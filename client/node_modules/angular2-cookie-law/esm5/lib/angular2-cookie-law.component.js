/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * angular2-cookie-law
 *
 * Copyright 2016-2018, @andreasonny83, All rights reserved.
 *
 * @author: @andreasonny83 <andreasonny83@gmail.com>
 */
import { Component, HostBinding, ViewEncapsulation, Input, Output, EventEmitter } from '@angular/core';
import { DomSanitizer } from '@angular/platform-browser';
import { closeIcon } from './icons';
import { translateInOut } from './animations';
var CookieLawComponent = /** @class */ (function () {
    function CookieLawComponent(domSanitizer) {
        this.domSanitizer = domSanitizer;
        this.isSeen = new EventEmitter();
        this.transition = 'bottomIn';
        this._position = 'bottom';
        this.cookieLawClass = true;
    }
    Object.defineProperty(CookieLawComponent.prototype, "learnMore", {
        get: /**
         * @return {?}
         */
        function () {
            return this._learnMore;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._learnMore = value !== null && "" + value !== 'false' ? value : null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CookieLawComponent.prototype, "awsomeCloseIcon", {
        get: /**
         * @return {?}
         */
        function () {
            return this._awsomeCloseIcon;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._awsomeCloseIcon =
                value !== null && "" + value !== 'false' ? value : null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CookieLawComponent.prototype, "target", {
        get: /**
         * @return {?}
         */
        function () {
            return this._target;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._target =
                value !== null &&
                    "" + value !== 'false' &&
                    ("" + value === '_blank' || "" + value === '_self')
                    ? value
                    : '_blank';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CookieLawComponent.prototype, "position", {
        get: /**
         * @return {?}
         */
        function () {
            return this._position;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._position =
                value !== null &&
                    "" + value !== 'false' &&
                    ("" + value === 'top' || "" + value === 'bottom')
                    ? value
                    : 'bottom';
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    CookieLawComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.noopener = this._target === '_blank';
        this.transition = this.position === 'bottom' ? 'bottomIn' : 'topIn';
        if (this._awsomeCloseIcon) {
            this.closeSvg = this.domSanitizer.bypassSecurityTrustHtml("<i class=\"fab " + this._awsomeCloseIcon + "\"></i>");
        }
        else {
            this.closeSvg = this.domSanitizer.bypassSecurityTrustHtml(closeIcon);
        }
        this.currentStyles = {
            top: this.position === 'top' ? '0' : null,
            bottom: this.position === 'top' ? 'initial' : null
        };
    };
    /**
     * @param {?} evt
     * @return {?}
     */
    CookieLawComponent.prototype.afterDismissAnimation = /**
     * @param {?} evt
     * @return {?}
     */
    function (evt) {
        if (evt.toState === 'topOut' || evt.toState === 'bottomOut') {
            this.isSeen.emit(true);
        }
    };
    /**
     * @param {?=} evt
     * @return {?}
     */
    CookieLawComponent.prototype.dismiss = /**
     * @param {?=} evt
     * @return {?}
     */
    function (evt) {
        if (evt) {
            evt.preventDefault();
        }
        this.transition = this.position === 'top' ? 'topOut' : 'bottomOut';
    };
    CookieLawComponent.decorators = [
        { type: Component, args: [{
                    selector: 'cookie-law-component',
                    template: "<div\n  class=\"cookie-law-wrapper\"\n  [ngStyle]=\"currentStyles\"\n  [@transition]=\"transition\"\n  (@transition.done)=\"afterDismissAnimation($event)\"\n>\n  <div class=\"copy\">\n    <span #ref><ng-content></ng-content></span>\n\n    <span *ngIf=\"ref.childNodes.length == 0\">\n      By continuing to browse the site, you're agreeing to our use of cookies.\n      <span *ngIf=\"learnMore\">\n        Learn more in our\n        <a [href]=\"learnMore\" [target]=\"target\" [rel]=\"noopener ? 'noopener noreferrer' : null\"\n          >privacy policy</a\n        >.\n      </span>\n    </span>\n\n    <a\n      href=\"#\"\n      role=\"button\"\n      class=\"dismiss\"\n      [innerHTML]=\"closeSvg\"\n      (click)=\"dismiss($event)\"\n      [attr.aria-label]=\"closeSvg\"\n    ></a>\n  </div>\n</div>\n",
                    styles: [".cookie-law-wrapper{background:#333;color:#bbb;display:block;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:15px;font-weight:200;line-height:20px;position:fixed;bottom:0;left:0;width:100%;z-index:999999999;font-smooth:always;-webkit-font-smoothing:antialiased}.cookie-law-wrapper a{color:#bbb;transition:color .2s}.cookie-law-wrapper a:hover{color:#fff}.cookie-law-wrapper a:hover svg{fill:#fff}.cookie-law-wrapper .dismiss{display:block;box-sizing:border-box;padding:10px;position:absolute;top:0;right:10px;text-decoration:none;line-height:20px}.cookie-law-wrapper .dismiss svg{display:block;fill:#bbb;width:20px;height:20px;transition:fill .2s}.cookie-law-wrapper .copy{box-sizing:border-box;padding:10px 60px 10px 10px}.cookie-law-wrapper .copy span{color:#fff;font-weight:400}.cookie-law-wrapper .copy a{text-decoration:underline}.cookie-law-wrapper .copy a:active,.copy a:hover{outline:0}@media (min-width:600px){.cookie-law-wrapper .copy{padding:20px 60px 20px 20px;font-size:18px;line-height:24px}.cookie-law-wrapper .dismiss{top:10px;right:15px}.cookie-law-wrapper .dismiss svg{width:24px;height:24px}}"],
                    animations: [translateInOut],
                    encapsulation: ViewEncapsulation.None
                },] },
    ];
    /** @nocollapse */
    CookieLawComponent.ctorParameters = function () { return [
        { type: DomSanitizer, },
    ]; };
    CookieLawComponent.propDecorators = {
        "cookieLawClass": [{ type: HostBinding, args: ['class.cookie-law',] },],
        "learnMore": [{ type: Input },],
        "awsomeCloseIcon": [{ type: Input },],
        "target": [{ type: Input },],
        "position": [{ type: Input },],
        "isSeen": [{ type: Output },],
    };
    return CookieLawComponent;
}());
export { CookieLawComponent };
function CookieLawComponent_tsickle_Closure_declarations() {
    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */
    CookieLawComponent.decorators;
    /**
     * @nocollapse
     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}
     */
    CookieLawComponent.ctorParameters;
    /** @type {!Object<string,!Array<{type: !Function, args: (undefined|!Array<?>)}>>} */
    CookieLawComponent.propDecorators;
    /** @type {?} */
    CookieLawComponent.prototype.closeSvg;
    /** @type {?} */
    CookieLawComponent.prototype.currentStyles;
    /** @type {?} */
    CookieLawComponent.prototype.transition;
    /** @type {?} */
    CookieLawComponent.prototype.cookieLawClass;
    /** @type {?} */
    CookieLawComponent.prototype.isSeen;
    /** @type {?} */
    CookieLawComponent.prototype.noopener;
    /** @type {?} */
    CookieLawComponent.prototype._learnMore;
    /** @type {?} */
    CookieLawComponent.prototype._awsomeCloseIcon;
    /** @type {?} */
    CookieLawComponent.prototype._target;
    /** @type {?} */
    CookieLawComponent.prototype._position;
    /** @type {?} */
    CookieLawComponent.prototype.domSanitizer;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcjItY29va2llLWxhdy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9hbmd1bGFyMi1jb29raWUtbGF3LyIsInNvdXJjZXMiOlsibGliL2FuZ3VsYXIyLWNvb2tpZS1sYXcuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBUUEsT0FBTyxFQUNMLFNBQVMsRUFFVCxXQUFXLEVBQ1gsaUJBQWlCLEVBQ2pCLEtBQUssRUFDTCxNQUFNLEVBQ04sWUFBWSxFQUNiLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxZQUFZLEVBQVksTUFBTSwyQkFBMkIsQ0FBQztBQUVuRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxjQUFjLENBQUM7O0lBd0c1Qyw0QkFBb0IsWUFBMEI7UUFBMUIsaUJBQVksR0FBWixZQUFZLENBQWM7c0JBVDlCLElBQUksWUFBWSxFQUFXO1FBVXpDLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO1FBQzdCLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO1FBQzFCLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDO0tBQzVCOzBCQXhERyx5Q0FBUzs7Ozs7WUFDWCxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQzs7Ozs7O1FBRXpCLFVBQWMsS0FBYTtZQUN6QixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssS0FBSyxJQUFJLElBQUksS0FBRyxLQUFPLEtBQUssT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztTQUMzRTs7OzswQkFHRywrQ0FBZTs7Ozs7WUFDakIsTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQzs7Ozs7O1FBRS9CLFVBQW9CLEtBQWE7WUFDL0IsSUFBSSxDQUFDLGdCQUFnQjtnQkFDbkIsS0FBSyxLQUFLLElBQUksSUFBSSxLQUFHLEtBQU8sS0FBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1NBQzNEOzs7OzBCQUdHLHNDQUFNOzs7OztZQUNSLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDOzs7Ozs7UUFFdEIsVUFBVyxLQUFzQjtZQUMvQixJQUFJLENBQUMsT0FBTztnQkFDVixLQUFLLEtBQUssSUFBSTtvQkFDZCxLQUFHLEtBQU8sS0FBSyxPQUFPO29CQUN0QixDQUFDLEtBQUcsS0FBTyxLQUFLLFFBQVEsSUFBSSxLQUFHLEtBQU8sS0FBSyxPQUFPLENBQUM7b0JBQ2pELENBQUMsQ0FBQyxLQUFLO29CQUNQLENBQUMsQ0FBQyxRQUFRLENBQUM7U0FDaEI7Ozs7MEJBR0csd0NBQVE7Ozs7O1lBQ1YsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7Ozs7OztRQUV4QixVQUFhLEtBQXdCO1lBQ25DLElBQUksQ0FBQyxTQUFTO2dCQUNaLEtBQUssS0FBSyxJQUFJO29CQUNkLEtBQUcsS0FBTyxLQUFLLE9BQU87b0JBQ3RCLENBQUMsS0FBRyxLQUFPLEtBQUssS0FBSyxJQUFJLEtBQUcsS0FBTyxLQUFLLFFBQVEsQ0FBQztvQkFDL0MsQ0FBQyxDQUFDLEtBQUs7b0JBQ1AsQ0FBQyxDQUFDLFFBQVEsQ0FBQztTQUNoQjs7Ozs7OztJQWtCTSxxQ0FBUTs7OztRQUNiLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sS0FBSyxRQUFRLENBQUM7UUFDMUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsUUFBUSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7UUFFcEUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQztZQUMxQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsdUJBQXVCLENBQ3ZELG9CQUFpQixJQUFJLENBQUMsZ0JBQWdCLFlBQVEsQ0FDL0MsQ0FBQztTQUNIO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDTixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsdUJBQXVCLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDdEU7UUFFRCxJQUFJLENBQUMsYUFBYSxHQUFHO1lBQ25CLEdBQUcsRUFBRSxJQUFJLENBQUMsUUFBUSxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJO1lBQ3pDLE1BQU0sRUFBRSxJQUFJLENBQUMsUUFBUSxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJO1NBQ25ELENBQUM7Ozs7OztJQUdHLGtEQUFxQjs7OztjQUFDLEdBQW1CO1FBQzlDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyxPQUFPLEtBQUssV0FBVyxDQUFDLENBQUMsQ0FBQztZQUM1RCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN4Qjs7Ozs7O0lBR0ksb0NBQU87Ozs7Y0FBQyxHQUFnQjtRQUM3QixFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ1IsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1NBQ3RCO1FBRUQsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsUUFBUSxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUM7OztnQkFwSXRFLFNBQVMsU0FBQztvQkFDVCxRQUFRLEVBQUUsc0JBQXNCO29CQUNoQyxRQUFRLEVBQUUsMHlCQTZCWDtvQkFDQyxNQUFNLEVBQUUsQ0FBQyx5bUNBQXltQyxDQUFDO29CQUNubkMsVUFBVSxFQUFFLENBQUMsY0FBYyxDQUFDO29CQUM1QixhQUFhLEVBQUUsaUJBQWlCLENBQUMsSUFBSTtpQkFDdEM7Ozs7Z0JBN0NRLFlBQVk7OzttQ0FtRGxCLFdBQVcsU0FBQyxrQkFBa0I7OEJBRzlCLEtBQUs7b0NBUUwsS0FBSzsyQkFTTCxLQUFLOzZCQWFMLEtBQUs7MkJBYUwsTUFBTTs7NkJBbEhUOztTQStEYSxrQkFBa0IiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGFuZ3VsYXIyLWNvb2tpZS1sYXdcbiAqXG4gKiBDb3B5cmlnaHQgMjAxNi0yMDE4LCBAYW5kcmVhc29ubnk4MywgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yOiBAYW5kcmVhc29ubnk4MyA8YW5kcmVhc29ubnk4M0BnbWFpbC5jb20+XG4gKi9cblxuaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBPbkluaXQsXG4gIEhvc3RCaW5kaW5nLFxuICBWaWV3RW5jYXBzdWxhdGlvbixcbiAgSW5wdXQsXG4gIE91dHB1dCxcbiAgRXZlbnRFbWl0dGVyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRG9tU2FuaXRpemVyLCBTYWZlSHRtbCB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xuaW1wb3J0IHsgQW5pbWF0aW9uRXZlbnQgfSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJztcbmltcG9ydCB7IGNsb3NlSWNvbiB9IGZyb20gJy4vaWNvbnMnO1xuaW1wb3J0IHsgdHJhbnNsYXRlSW5PdXQgfSBmcm9tICcuL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHtcbiAgQ29va2llTGF3QW5pbWF0aW9uLFxuICBDb29raWVMYXdUYXJnZXQsXG4gIENvb2tpZUxhd1Bvc2l0aW9uXG59IGZyb20gJy4vZGVmaW5pdGlvbnMnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjb29raWUtbGF3LWNvbXBvbmVudCcsXG4gIHRlbXBsYXRlOiBgPGRpdlxuICBjbGFzcz1cImNvb2tpZS1sYXctd3JhcHBlclwiXG4gIFtuZ1N0eWxlXT1cImN1cnJlbnRTdHlsZXNcIlxuICBbQHRyYW5zaXRpb25dPVwidHJhbnNpdGlvblwiXG4gIChAdHJhbnNpdGlvbi5kb25lKT1cImFmdGVyRGlzbWlzc0FuaW1hdGlvbigkZXZlbnQpXCJcbj5cbiAgPGRpdiBjbGFzcz1cImNvcHlcIj5cbiAgICA8c3BhbiAjcmVmPjxuZy1jb250ZW50PjwvbmctY29udGVudD48L3NwYW4+XG5cbiAgICA8c3BhbiAqbmdJZj1cInJlZi5jaGlsZE5vZGVzLmxlbmd0aCA9PSAwXCI+XG4gICAgICBCeSBjb250aW51aW5nIHRvIGJyb3dzZSB0aGUgc2l0ZSwgeW91J3JlIGFncmVlaW5nIHRvIG91ciB1c2Ugb2YgY29va2llcy5cbiAgICAgIDxzcGFuICpuZ0lmPVwibGVhcm5Nb3JlXCI+XG4gICAgICAgIExlYXJuIG1vcmUgaW4gb3VyXG4gICAgICAgIDxhIFtocmVmXT1cImxlYXJuTW9yZVwiIFt0YXJnZXRdPVwidGFyZ2V0XCIgW3JlbF09XCJub29wZW5lciA/ICdub29wZW5lciBub3JlZmVycmVyJyA6IG51bGxcIlxuICAgICAgICAgID5wcml2YWN5IHBvbGljeTwvYVxuICAgICAgICA+LlxuICAgICAgPC9zcGFuPlxuICAgIDwvc3Bhbj5cblxuICAgIDxhXG4gICAgICBocmVmPVwiI1wiXG4gICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgIGNsYXNzPVwiZGlzbWlzc1wiXG4gICAgICBbaW5uZXJIVE1MXT1cImNsb3NlU3ZnXCJcbiAgICAgIChjbGljayk9XCJkaXNtaXNzKCRldmVudClcIlxuICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJjbG9zZVN2Z1wiXG4gICAgPjwvYT5cbiAgPC9kaXY+XG48L2Rpdj5cbmAsXG4gIHN0eWxlczogW2AuY29va2llLWxhdy13cmFwcGVye2JhY2tncm91bmQ6IzMzMztjb2xvcjojYmJiO2Rpc3BsYXk6YmxvY2s7Zm9udC1mYW1pbHk6SGVsdmV0aWNhIE5ldWUsSGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7Zm9udC1zaXplOjE1cHg7Zm9udC13ZWlnaHQ6MjAwO2xpbmUtaGVpZ2h0OjIwcHg7cG9zaXRpb246Zml4ZWQ7Ym90dG9tOjA7bGVmdDowO3dpZHRoOjEwMCU7ei1pbmRleDo5OTk5OTk5OTk7Zm9udC1zbW9vdGg6YWx3YXlzOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWR9LmNvb2tpZS1sYXctd3JhcHBlciBhe2NvbG9yOiNiYmI7dHJhbnNpdGlvbjpjb2xvciAuMnN9LmNvb2tpZS1sYXctd3JhcHBlciBhOmhvdmVye2NvbG9yOiNmZmZ9LmNvb2tpZS1sYXctd3JhcHBlciBhOmhvdmVyIHN2Z3tmaWxsOiNmZmZ9LmNvb2tpZS1sYXctd3JhcHBlciAuZGlzbWlzc3tkaXNwbGF5OmJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDtwYWRkaW5nOjEwcHg7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7cmlnaHQ6MTBweDt0ZXh0LWRlY29yYXRpb246bm9uZTtsaW5lLWhlaWdodDoyMHB4fS5jb29raWUtbGF3LXdyYXBwZXIgLmRpc21pc3Mgc3Zne2Rpc3BsYXk6YmxvY2s7ZmlsbDojYmJiO3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7dHJhbnNpdGlvbjpmaWxsIC4yc30uY29va2llLWxhdy13cmFwcGVyIC5jb3B5e2JveC1zaXppbmc6Ym9yZGVyLWJveDtwYWRkaW5nOjEwcHggNjBweCAxMHB4IDEwcHh9LmNvb2tpZS1sYXctd3JhcHBlciAuY29weSBzcGFue2NvbG9yOiNmZmY7Zm9udC13ZWlnaHQ6NDAwfS5jb29raWUtbGF3LXdyYXBwZXIgLmNvcHkgYXt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5jb29raWUtbGF3LXdyYXBwZXIgLmNvcHkgYTphY3RpdmUsLmNvcHkgYTpob3ZlcntvdXRsaW5lOjB9QG1lZGlhIChtaW4td2lkdGg6NjAwcHgpey5jb29raWUtbGF3LXdyYXBwZXIgLmNvcHl7cGFkZGluZzoyMHB4IDYwcHggMjBweCAyMHB4O2ZvbnQtc2l6ZToxOHB4O2xpbmUtaGVpZ2h0OjI0cHh9LmNvb2tpZS1sYXctd3JhcHBlciAuZGlzbWlzc3t0b3A6MTBweDtyaWdodDoxNXB4fS5jb29raWUtbGF3LXdyYXBwZXIgLmRpc21pc3Mgc3Zne3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHh9fWBdLFxuICBhbmltYXRpb25zOiBbdHJhbnNsYXRlSW5PdXRdLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIENvb2tpZUxhd0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIHB1YmxpYyBjbG9zZVN2ZzogU2FmZUh0bWw7XG4gIHB1YmxpYyBjdXJyZW50U3R5bGVzOiBhbnk7XG4gIHB1YmxpYyB0cmFuc2l0aW9uOiBDb29raWVMYXdBbmltYXRpb247XG5cbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5jb29raWUtbGF3JylcbiAgcHVibGljIGNvb2tpZUxhd0NsYXNzOiBib29sZWFuO1xuXG4gIEBJbnB1dCgpXG4gIGdldCBsZWFybk1vcmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xlYXJuTW9yZTtcbiAgfVxuICBzZXQgbGVhcm5Nb3JlKHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9sZWFybk1vcmUgPSB2YWx1ZSAhPT0gbnVsbCAmJiBgJHt2YWx1ZX1gICE9PSAnZmFsc2UnID8gdmFsdWUgOiBudWxsO1xuICB9XG5cbiAgQElucHV0KClcbiAgZ2V0IGF3c29tZUNsb3NlSWNvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fYXdzb21lQ2xvc2VJY29uO1xuICB9XG4gIHNldCBhd3NvbWVDbG9zZUljb24odmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX2F3c29tZUNsb3NlSWNvbiA9XG4gICAgICB2YWx1ZSAhPT0gbnVsbCAmJiBgJHt2YWx1ZX1gICE9PSAnZmFsc2UnID8gdmFsdWUgOiBudWxsO1xuICB9XG5cbiAgQElucHV0KClcbiAgZ2V0IHRhcmdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGFyZ2V0O1xuICB9XG4gIHNldCB0YXJnZXQodmFsdWU6IENvb2tpZUxhd1RhcmdldCkge1xuICAgIHRoaXMuX3RhcmdldCA9XG4gICAgICB2YWx1ZSAhPT0gbnVsbCAmJlxuICAgICAgYCR7dmFsdWV9YCAhPT0gJ2ZhbHNlJyAmJlxuICAgICAgKGAke3ZhbHVlfWAgPT09ICdfYmxhbmsnIHx8IGAke3ZhbHVlfWAgPT09ICdfc2VsZicpXG4gICAgICAgID8gdmFsdWVcbiAgICAgICAgOiAnX2JsYW5rJztcbiAgfVxuXG4gIEBJbnB1dCgpXG4gIGdldCBwb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XG4gIH1cbiAgc2V0IHBvc2l0aW9uKHZhbHVlOiBDb29raWVMYXdQb3NpdGlvbikge1xuICAgIHRoaXMuX3Bvc2l0aW9uID1cbiAgICAgIHZhbHVlICE9PSBudWxsICYmXG4gICAgICBgJHt2YWx1ZX1gICE9PSAnZmFsc2UnICYmXG4gICAgICAoYCR7dmFsdWV9YCA9PT0gJ3RvcCcgfHwgYCR7dmFsdWV9YCA9PT0gJ2JvdHRvbScpXG4gICAgICAgID8gdmFsdWVcbiAgICAgICAgOiAnYm90dG9tJztcbiAgfVxuXG4gIEBPdXRwdXQoKVxuICBwdWJsaWMgaXNTZWVuID0gbmV3IEV2ZW50RW1pdHRlcjxib29sZWFuPigpO1xuXG4gIHB1YmxpYyBub29wZW5lcjogYm9vbGVhbjtcblxuICBwcml2YXRlIF9sZWFybk1vcmU6IHN0cmluZztcbiAgcHJpdmF0ZSBfYXdzb21lQ2xvc2VJY29uOiBzdHJpbmc7XG4gIHByaXZhdGUgX3RhcmdldDogQ29va2llTGF3VGFyZ2V0O1xuICBwcml2YXRlIF9wb3NpdGlvbjogQ29va2llTGF3UG9zaXRpb247XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBkb21TYW5pdGl6ZXI6IERvbVNhbml0aXplcikge1xuICAgIHRoaXMudHJhbnNpdGlvbiA9ICdib3R0b21Jbic7XG4gICAgdGhpcy5fcG9zaXRpb24gPSAnYm90dG9tJztcbiAgICB0aGlzLmNvb2tpZUxhd0NsYXNzID0gdHJ1ZTtcbiAgfVxuXG4gIHB1YmxpYyBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLm5vb3BlbmVyID0gdGhpcy5fdGFyZ2V0ID09PSAnX2JsYW5rJztcbiAgICB0aGlzLnRyYW5zaXRpb24gPSB0aGlzLnBvc2l0aW9uID09PSAnYm90dG9tJyA/ICdib3R0b21JbicgOiAndG9wSW4nO1xuXG4gICAgaWYgKHRoaXMuX2F3c29tZUNsb3NlSWNvbikge1xuICAgICAgdGhpcy5jbG9zZVN2ZyA9IHRoaXMuZG9tU2FuaXRpemVyLmJ5cGFzc1NlY3VyaXR5VHJ1c3RIdG1sKFxuICAgICAgICBgPGkgY2xhc3M9XCJmYWIgJHt0aGlzLl9hd3NvbWVDbG9zZUljb259XCI+PC9pPmBcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xvc2VTdmcgPSB0aGlzLmRvbVNhbml0aXplci5ieXBhc3NTZWN1cml0eVRydXN0SHRtbChjbG9zZUljb24pO1xuICAgIH1cblxuICAgIHRoaXMuY3VycmVudFN0eWxlcyA9IHtcbiAgICAgIHRvcDogdGhpcy5wb3NpdGlvbiA9PT0gJ3RvcCcgPyAnMCcgOiBudWxsLFxuICAgICAgYm90dG9tOiB0aGlzLnBvc2l0aW9uID09PSAndG9wJyA/ICdpbml0aWFsJyA6IG51bGxcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIGFmdGVyRGlzbWlzc0FuaW1hdGlvbihldnQ6IEFuaW1hdGlvbkV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2dC50b1N0YXRlID09PSAndG9wT3V0JyB8fCBldnQudG9TdGF0ZSA9PT0gJ2JvdHRvbU91dCcpIHtcbiAgICAgIHRoaXMuaXNTZWVuLmVtaXQodHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGRpc21pc3MoZXZ0PzogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGlmIChldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHRoaXMudHJhbnNpdGlvbiA9IHRoaXMucG9zaXRpb24gPT09ICd0b3AnID8gJ3RvcE91dCcgOiAnYm90dG9tT3V0JztcbiAgfVxufVxuIl19