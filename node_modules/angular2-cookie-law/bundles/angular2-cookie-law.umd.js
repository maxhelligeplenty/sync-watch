(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/common'), require('@angular/animations'), require('@angular/platform-browser')) :
    typeof define === 'function' && define.amd ? define('angular2-cookie-law', ['exports', '@angular/core', '@angular/common', '@angular/animations', '@angular/platform-browser'], factory) :
    (factory((global['angular2-cookie-law'] = {}),global.ng.core,global.ng.common,global.ng.animations,global.ng.platformBrowser));
}(this, (function (exports,i0,i1,animations,platformBrowser) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var Angular2CookieLawService = (function () {
        function Angular2CookieLawService(doc, platform) {
            this.doc = doc;
            this.platform = platform;
        }
        /**
         * @param {?=} cookieName
         * @return {?}
         */
        Angular2CookieLawService.prototype.seen = /**
         * @param {?=} cookieName
         * @return {?}
         */
            function (cookieName) {
                if (cookieName === void 0) {
                    cookieName = 'cookieLawSeen';
                }
                var /** @type {?} */ cookies = [];
                if (i1.isPlatformBrowser(this.platform)) {
                    cookies = this.doc.cookie.split(';');
                }
                return this.cookieExisits(cookieName, cookies);
            };
        /**
         * @param {?} cookieName
         * @param {?=} expiration
         * @return {?}
         */
        Angular2CookieLawService.prototype.storeCookie = /**
         * @param {?} cookieName
         * @param {?=} expiration
         * @return {?}
         */
            function (cookieName, expiration) {
                return this.setCookie(cookieName, expiration);
            };
        /**
         * @param {?} name
         * @param {?} cookies
         * @return {?}
         */
        Angular2CookieLawService.prototype.cookieExisits = /**
         * @param {?} name
         * @param {?} cookies
         * @return {?}
         */
            function (name, cookies) {
                var /** @type {?} */ cookieName = name + "=";
                return cookies.reduce(function (prev, curr) { return prev || curr.trim().search(cookieName) > -1; }, false);
            };
        /**
         * @param {?} name
         * @param {?=} expiration
         * @return {?}
         */
        Angular2CookieLawService.prototype.setCookie = /**
         * @param {?} name
         * @param {?=} expiration
         * @return {?}
         */
            function (name, expiration) {
                var /** @type {?} */ now = new Date();
                var /** @type {?} */ exp = new Date(now.getTime() + expiration * 86400000);
                var /** @type {?} */ cookieString = encodeURIComponent(name) + ("=true;path=/;expires=" + exp.toUTCString() + ";");
                if (i1.isPlatformBrowser(this.platform)) {
                    this.doc.cookie = cookieString;
                }
            };
        Angular2CookieLawService.decorators = [
            { type: i0.Injectable, args: [{
                        providedIn: 'root'
                    },] },
        ];
        /** @nocollapse */
        Angular2CookieLawService.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: i0.Inject, args: [i1.DOCUMENT,] },] },
                { type: Object, decorators: [{ type: i0.Inject, args: [i0.PLATFORM_ID,] },] },
            ];
        };
        /** @nocollapse */ Angular2CookieLawService.ngInjectableDef = i0.defineInjectable({ factory: function Angular2CookieLawService_Factory() { return new Angular2CookieLawService(i0.inject(i1.DOCUMENT), i0.inject(i0.PLATFORM_ID)); }, token: Angular2CookieLawService, providedIn: "root" });
        return Angular2CookieLawService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * angular2-cookie-law
     *
     * Copyright 2016-2018, @andreasonny83, All rights reserved.
     *
     * @author: @andreasonny83 <andreasonny83@gmail.com>
     */
    var /** @type {?} */ closeIcon = "\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n    <path d=\"M377.047 184.198q0 8.26-6.037 14.297L313.505 256l57.505 57.505q6.037 6.037 6.037 14.297 0 8.578-6.037\n      14.615l-28.593 28.593q-6.037 6.037-14.615 6.037-8.26 0-14.297-6.037L256 313.505l-57.505 57.505q-6.037\n      6.037-14.297 6.037-8.578 0-14.615-6.037l-28.593-28.593q-6.037-6.037-6.037-14.615 0-8.26 6.037-14.297L198.495\n      256l-57.505-57.505q-6.037-6.037-6.037-14.297 0-8.578 6.037-14.615l28.593-28.593q6.037-6.037 14.615-6.037 8.26 0\n      14.297 6.037L256 198.495l57.505-57.505q6.037-6.037 14.297-6.037 8.578 0 14.615 6.037l28.593 28.593q6.037 6.037\n      6.037 14.615zM500 256q0-66.401-32.724-122.477-32.724-56.075-88.799-88.799Q322.401 12 256 12q-66.401 0-122.477\n      32.724-56.075 32.724-88.799 88.799Q12 189.599 12 256q0 66.401 32.724 122.477 32.724 56.075 88.799 88.799Q189.599\n      500 256 500q66.401 0 122.477-32.724 56.075-32.724 88.799-88.799Q500 322.401 500 256z\"></path>\n  </svg>";

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var /** @type {?} */ translateInOut = animations.trigger('transition', [
        animations.state('*', animations.style({ transform: 'translateY(0)' })),
        animations.state('void', animations.style({ transform: 'translateY(0)' })),
        animations.state('bottomOut', animations.style({ transform: 'translateY(100%)' })),
        animations.state('topOut', animations.style({ transform: 'translateY(-100%)' })),
        animations.transition('void => topIn', [
            animations.style({ transform: 'translateY(-100%)' }),
            animations.animate('1000ms ease-in-out')
        ]),
        animations.transition('void => bottomIn', [
            animations.style({ transform: 'translateY(100%)' }),
            animations.animate('1000ms ease-in-out')
        ]),
        animations.transition('* => *', animations.animate('1000ms ease-out'))
    ]);

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var CookieLawComponent = (function () {
        function CookieLawComponent(domSanitizer) {
            this.domSanitizer = domSanitizer;
            this.isSeen = new i0.EventEmitter();
            this.transition = 'bottomIn';
            this._position = 'bottom';
            this.cookieLawClass = true;
        }
        Object.defineProperty(CookieLawComponent.prototype, "learnMore", {
            get: /**
             * @return {?}
             */ function () {
                return this._learnMore;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._learnMore = value !== null && "" + value !== 'false' ? value : null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CookieLawComponent.prototype, "awsomeCloseIcon", {
            get: /**
             * @return {?}
             */ function () {
                return this._awsomeCloseIcon;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._awsomeCloseIcon =
                    value !== null && "" + value !== 'false' ? value : null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CookieLawComponent.prototype, "target", {
            get: /**
             * @return {?}
             */ function () {
                return this._target;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._target =
                    value !== null &&
                        "" + value !== 'false' &&
                        ("" + value === '_blank' || "" + value === '_self')
                        ? value
                        : '_blank';
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CookieLawComponent.prototype, "position", {
            get: /**
             * @return {?}
             */ function () {
                return this._position;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._position =
                    value !== null &&
                        "" + value !== 'false' &&
                        ("" + value === 'top' || "" + value === 'bottom')
                        ? value
                        : 'bottom';
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        CookieLawComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.noopener = this._target === '_blank';
                this.transition = this.position === 'bottom' ? 'bottomIn' : 'topIn';
                if (this._awsomeCloseIcon) {
                    this.closeSvg = this.domSanitizer.bypassSecurityTrustHtml("<i class=\"fab " + this._awsomeCloseIcon + "\"></i>");
                }
                else {
                    this.closeSvg = this.domSanitizer.bypassSecurityTrustHtml(closeIcon);
                }
                this.currentStyles = {
                    top: this.position === 'top' ? '0' : null,
                    bottom: this.position === 'top' ? 'initial' : null
                };
            };
        /**
         * @param {?} evt
         * @return {?}
         */
        CookieLawComponent.prototype.afterDismissAnimation = /**
         * @param {?} evt
         * @return {?}
         */
            function (evt) {
                if (evt.toState === 'topOut' || evt.toState === 'bottomOut') {
                    this.isSeen.emit(true);
                }
            };
        /**
         * @param {?=} evt
         * @return {?}
         */
        CookieLawComponent.prototype.dismiss = /**
         * @param {?=} evt
         * @return {?}
         */
            function (evt) {
                if (evt) {
                    evt.preventDefault();
                }
                this.transition = this.position === 'top' ? 'topOut' : 'bottomOut';
            };
        CookieLawComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'cookie-law-component',
                        template: "<div\n  class=\"cookie-law-wrapper\"\n  [ngStyle]=\"currentStyles\"\n  [@transition]=\"transition\"\n  (@transition.done)=\"afterDismissAnimation($event)\"\n>\n  <div class=\"copy\">\n    <span #ref><ng-content></ng-content></span>\n\n    <span *ngIf=\"ref.childNodes.length == 0\">\n      By continuing to browse the site, you're agreeing to our use of cookies.\n      <span *ngIf=\"learnMore\">\n        Learn more in our\n        <a [href]=\"learnMore\" [target]=\"target\" [rel]=\"noopener ? 'noopener noreferrer' : null\"\n          >privacy policy</a\n        >.\n      </span>\n    </span>\n\n    <a\n      href=\"#\"\n      role=\"button\"\n      class=\"dismiss\"\n      [innerHTML]=\"closeSvg\"\n      (click)=\"dismiss($event)\"\n      [attr.aria-label]=\"closeSvg\"\n    ></a>\n  </div>\n</div>\n",
                        styles: [".cookie-law-wrapper{background:#333;color:#bbb;display:block;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:15px;font-weight:200;line-height:20px;position:fixed;bottom:0;left:0;width:100%;z-index:999999999;font-smooth:always;-webkit-font-smoothing:antialiased}.cookie-law-wrapper a{color:#bbb;transition:color .2s}.cookie-law-wrapper a:hover{color:#fff}.cookie-law-wrapper a:hover svg{fill:#fff}.cookie-law-wrapper .dismiss{display:block;box-sizing:border-box;padding:10px;position:absolute;top:0;right:10px;text-decoration:none;line-height:20px}.cookie-law-wrapper .dismiss svg{display:block;fill:#bbb;width:20px;height:20px;transition:fill .2s}.cookie-law-wrapper .copy{box-sizing:border-box;padding:10px 60px 10px 10px}.cookie-law-wrapper .copy span{color:#fff;font-weight:400}.cookie-law-wrapper .copy a{text-decoration:underline}.cookie-law-wrapper .copy a:active,.copy a:hover{outline:0}@media (min-width:600px){.cookie-law-wrapper .copy{padding:20px 60px 20px 20px;font-size:18px;line-height:24px}.cookie-law-wrapper .dismiss{top:10px;right:15px}.cookie-law-wrapper .dismiss svg{width:24px;height:24px}}"],
                        animations: [translateInOut],
                        encapsulation: i0.ViewEncapsulation.None
                    },] },
        ];
        /** @nocollapse */
        CookieLawComponent.ctorParameters = function () {
            return [
                { type: platformBrowser.DomSanitizer, },
            ];
        };
        CookieLawComponent.propDecorators = {
            "cookieLawClass": [{ type: i0.HostBinding, args: ['class.cookie-law',] },],
            "learnMore": [{ type: i0.Input },],
            "awsomeCloseIcon": [{ type: i0.Input },],
            "target": [{ type: i0.Input },],
            "position": [{ type: i0.Input },],
            "isSeen": [{ type: i0.Output },],
        };
        return CookieLawComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var CookieLawContainerComponent = (function () {
        function CookieLawContainerComponent(cookieLawService) {
            this.cookieLawService = cookieLawService;
            this.isSeen = new i0.EventEmitter();
            this.name = 'cookieLawSeen'; // set a default cookie name if not provided
            this.seen = true;
        }
        Object.defineProperty(CookieLawContainerComponent.prototype, "cookieLawSeen", {
            get: /**
             * @return {?}
             */ function () {
                return this.cookieLawService.seen(this.name);
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        CookieLawContainerComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.seen = this.cookieLawService.seen(this.name);
            };
        /**
         * @return {?}
         */
        CookieLawContainerComponent.prototype.hasBeenDismissed = /**
         * @return {?}
         */
            function () {
                this.cookieLawService.storeCookie(this.name, this.expiration);
                this.seen = true;
                this.isSeen.emit(true);
            };
        /**
         * @return {?}
         */
        CookieLawContainerComponent.prototype.dismiss = /**
         * @return {?}
         */
            function () {
                this.cookieLawComponent.dismiss();
            };
        CookieLawContainerComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'cookie-law',
                        template: "\n    <cookie-law-component\n      *ngIf=\"!seen\"\n      [awsomeCloseIcon]=\"awsomeCloseIcon\"\n      [learnMore]=\"learnMore\"\n      [target]=\"target\"\n      [position]=\"position\"\n      (isSeen)=\"hasBeenDismissed()\"\n    >\n      <ng-content></ng-content>\n    </cookie-law-component>\n  "
                    },] },
        ];
        /** @nocollapse */
        CookieLawContainerComponent.ctorParameters = function () {
            return [
                { type: Angular2CookieLawService, },
            ];
        };
        CookieLawContainerComponent.propDecorators = {
            "seen": [{ type: i0.HostBinding, args: ['attr.seen',] },],
            "cookieLawComponent": [{ type: i0.ViewChild, args: [CookieLawComponent,] },],
            "name": [{ type: i0.Input },],
            "learnMore": [{ type: i0.Input },],
            "target": [{ type: i0.Input },],
            "position": [{ type: i0.Input },],
            "expiration": [{ type: i0.Input },],
            "awsomeCloseIcon": [{ type: i0.Input },],
            "isSeen": [{ type: i0.Output },],
        };
        return CookieLawContainerComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var CookieLawModule = (function () {
        function CookieLawModule(parentModule) {
            if (parentModule) {
                throw new Error('CookieLawModule is already loaded. Import it in the AppModule only');
            }
        }
        CookieLawModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [i1.CommonModule],
                        declarations: [CookieLawComponent, CookieLawContainerComponent],
                        exports: [CookieLawContainerComponent]
                    },] },
        ];
        /** @nocollapse */
        CookieLawModule.ctorParameters = function () {
            return [
                { type: CookieLawModule, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf },] },
            ];
        };
        return CookieLawModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    exports.Angular2CookieLawService = Angular2CookieLawService;
    exports.CookieLawContainerComponent = CookieLawContainerComponent;
    exports.CookieLawComponent = CookieLawComponent;
    exports.CookieLawModule = CookieLawModule;
    exports.ɵa = translateInOut;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcjItY29va2llLWxhdy51bWQuanMubWFwIiwic291cmNlcyI6WyJuZzovL2FuZ3VsYXIyLWNvb2tpZS1sYXcvbGliL2FuZ3VsYXIyLWNvb2tpZS1sYXcuc2VydmljZS50cyIsIm5nOi8vYW5ndWxhcjItY29va2llLWxhdy9saWIvaWNvbnMudHMiLCJuZzovL2FuZ3VsYXIyLWNvb2tpZS1sYXcvbGliL2FuaW1hdGlvbnMudHMiLCJuZzovL2FuZ3VsYXIyLWNvb2tpZS1sYXcvbGliL2FuZ3VsYXIyLWNvb2tpZS1sYXcuY29tcG9uZW50LnRzIiwibmc6Ly9hbmd1bGFyMi1jb29raWUtbGF3L2xpYi9hbmd1bGFyMi1jb29raWUtbGF3LWNvbnRhaW5lci5jb21wb25lbnQudHMiLCJuZzovL2FuZ3VsYXIyLWNvb2tpZS1sYXcvbGliL2FuZ3VsYXIyLWNvb2tpZS1sYXcubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogYW5ndWxhcjItY29va2llLWxhd1xuICpcbiAqIENvcHlyaWdodCAyMDE2LTIwMTgsIEBhbmRyZWFzb25ueTgzLCBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIEBhdXRob3I6IEBhbmRyZWFzb25ueTgzIDxhbmRyZWFzb25ueTgzQGdtYWlsLmNvbT5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIFBMQVRGT1JNX0lEIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBET0NVTUVOVCwgaXNQbGF0Zm9ybUJyb3dzZXIgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBBbmd1bGFyMkNvb2tpZUxhd1NlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcihcbiAgICBASW5qZWN0KERPQ1VNRU5UKSBwcml2YXRlIGRvYzogYW55LFxuICAgIEBJbmplY3QoUExBVEZPUk1fSUQpIHByaXZhdGUgcGxhdGZvcm06IE9iamVjdFxuICApIHt9XG5cbiAgcHVibGljIHNlZW4oY29va2llTmFtZTogc3RyaW5nID0gJ2Nvb2tpZUxhd1NlZW4nKTogYm9vbGVhbiB7XG4gICAgbGV0IGNvb2tpZXM6IEFycmF5PHN0cmluZz4gPSBbXTtcblxuICAgIGlmIChpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtKSkge1xuICAgICAgY29va2llcyA9IHRoaXMuZG9jLmNvb2tpZS5zcGxpdCgnOycpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNvb2tpZUV4aXNpdHMoY29va2llTmFtZSwgY29va2llcyk7XG4gIH1cblxuICBwdWJsaWMgc3RvcmVDb29raWUoY29va2llTmFtZTogc3RyaW5nLCBleHBpcmF0aW9uPzogbnVtYmVyKTogdm9pZCB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q29va2llKGNvb2tpZU5hbWUsIGV4cGlyYXRpb24pO1xuICB9XG5cbiAgcHJpdmF0ZSBjb29raWVFeGlzaXRzKG5hbWU6IHN0cmluZywgY29va2llczogQXJyYXk8c3RyaW5nPik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNvb2tpZU5hbWUgPSBgJHtuYW1lfT1gO1xuXG4gICAgcmV0dXJuIGNvb2tpZXMucmVkdWNlKFxuICAgICAgKHByZXYsIGN1cnIpID0+IHByZXYgfHwgY3Vyci50cmltKCkuc2VhcmNoKGNvb2tpZU5hbWUpID4gLTEsXG4gICAgICBmYWxzZVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHNldENvb2tpZShuYW1lOiBzdHJpbmcsIGV4cGlyYXRpb24/OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBub3c6IERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGV4cDogRGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRUaW1lKCkgKyBleHBpcmF0aW9uICogODY0MDAwMDApO1xuXG4gICAgY29uc3QgY29va2llU3RyaW5nID1cbiAgICAgIGVuY29kZVVSSUNvbXBvbmVudChuYW1lKSArIGA9dHJ1ZTtwYXRoPS87ZXhwaXJlcz0ke2V4cC50b1VUQ1N0cmluZygpfTtgO1xuXG4gICAgaWYgKGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm0pKSB7XG4gICAgICB0aGlzLmRvYy5jb29raWUgPSBjb29raWVTdHJpbmc7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIGFuZ3VsYXIyLWNvb2tpZS1sYXdcbiAqXG4gKiBDb3B5cmlnaHQgMjAxNi0yMDE4LCBAYW5kcmVhc29ubnk4MywgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yOiBAYW5kcmVhc29ubnk4MyA8YW5kcmVhc29ubnk4M0BnbWFpbC5jb20+XG4gKi9cblxuZXhwb3J0IGNvbnN0IGNsb3NlSWNvbiA9IGBcbiAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCA1MTIgNTEyXCI+XG4gICAgPHBhdGggZD1cIk0zNzcuMDQ3IDE4NC4xOThxMCA4LjI2LTYuMDM3IDE0LjI5N0wzMTMuNTA1IDI1Nmw1Ny41MDUgNTcuNTA1cTYuMDM3IDYuMDM3IDYuMDM3IDE0LjI5NyAwIDguNTc4LTYuMDM3XG4gICAgICAxNC42MTVsLTI4LjU5MyAyOC41OTNxLTYuMDM3IDYuMDM3LTE0LjYxNSA2LjAzNy04LjI2IDAtMTQuMjk3LTYuMDM3TDI1NiAzMTMuNTA1bC01Ny41MDUgNTcuNTA1cS02LjAzN1xuICAgICAgNi4wMzctMTQuMjk3IDYuMDM3LTguNTc4IDAtMTQuNjE1LTYuMDM3bC0yOC41OTMtMjguNTkzcS02LjAzNy02LjAzNy02LjAzNy0xNC42MTUgMC04LjI2IDYuMDM3LTE0LjI5N0wxOTguNDk1XG4gICAgICAyNTZsLTU3LjUwNS01Ny41MDVxLTYuMDM3LTYuMDM3LTYuMDM3LTE0LjI5NyAwLTguNTc4IDYuMDM3LTE0LjYxNWwyOC41OTMtMjguNTkzcTYuMDM3LTYuMDM3IDE0LjYxNS02LjAzNyA4LjI2IDBcbiAgICAgIDE0LjI5NyA2LjAzN0wyNTYgMTk4LjQ5NWw1Ny41MDUtNTcuNTA1cTYuMDM3LTYuMDM3IDE0LjI5Ny02LjAzNyA4LjU3OCAwIDE0LjYxNSA2LjAzN2wyOC41OTMgMjguNTkzcTYuMDM3IDYuMDM3XG4gICAgICA2LjAzNyAxNC42MTV6TTUwMCAyNTZxMC02Ni40MDEtMzIuNzI0LTEyMi40NzctMzIuNzI0LTU2LjA3NS04OC43OTktODguNzk5UTMyMi40MDEgMTIgMjU2IDEycS02Ni40MDEgMC0xMjIuNDc3XG4gICAgICAzMi43MjQtNTYuMDc1IDMyLjcyNC04OC43OTkgODguNzk5UTEyIDE4OS41OTkgMTIgMjU2cTAgNjYuNDAxIDMyLjcyNCAxMjIuNDc3IDMyLjcyNCA1Ni4wNzUgODguNzk5IDg4Ljc5OVExODkuNTk5XG4gICAgICA1MDAgMjU2IDUwMHE2Ni40MDEgMCAxMjIuNDc3LTMyLjcyNCA1Ni4wNzUtMzIuNzI0IDg4Ljc5OS04OC43OTlRNTAwIDMyMi40MDEgNTAwIDI1NnpcIj48L3BhdGg+XG4gIDwvc3ZnPmA7XG4iLCIvKipcbiAqIGFuZ3VsYXIyLWNvb2tpZS1sYXdcbiAqXG4gKiBDb3B5cmlnaHQgMjAxNi0yMDE4LCBAYW5kcmVhc29ubnk4MywgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yOiBAYW5kcmVhc29ubnk4MyA8YW5kcmVhc29ubnk4M0BnbWFpbC5jb20+XG4gKi9cblxuaW1wb3J0IHtcbiAgdHJpZ2dlcixcbiAgc3RhdGUsXG4gIHN0eWxlLFxuICBhbmltYXRlLFxuICB0cmFuc2l0aW9uLFxuICBBbmltYXRpb25UcmlnZ2VyTWV0YWRhdGFcbn0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XG5cbmV4cG9ydCBjb25zdCB0cmFuc2xhdGVJbk91dDogQW5pbWF0aW9uVHJpZ2dlck1ldGFkYXRhID0gdHJpZ2dlcigndHJhbnNpdGlvbicsIFtcbiAgc3RhdGUoJyonLCBzdHlsZSh7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCknIH0pKSxcbiAgc3RhdGUoJ3ZvaWQnLCBzdHlsZSh7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCknIH0pKSxcblxuICBzdGF0ZSgnYm90dG9tT3V0Jywgc3R5bGUoeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDEwMCUpJyB9KSksXG4gIHN0YXRlKCd0b3BPdXQnLCBzdHlsZSh7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoLTEwMCUpJyB9KSksXG5cbiAgdHJhbnNpdGlvbigndm9pZCA9PiB0b3BJbicsIFtcbiAgICBzdHlsZSh7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoLTEwMCUpJyB9KSxcbiAgICBhbmltYXRlKCcxMDAwbXMgZWFzZS1pbi1vdXQnKVxuICBdKSxcblxuICB0cmFuc2l0aW9uKCd2b2lkID0+IGJvdHRvbUluJywgW1xuICAgIHN0eWxlKHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgxMDAlKScgfSksXG4gICAgYW5pbWF0ZSgnMTAwMG1zIGVhc2UtaW4tb3V0JylcbiAgXSksXG5cbiAgdHJhbnNpdGlvbignKiA9PiAqJywgYW5pbWF0ZSgnMTAwMG1zIGVhc2Utb3V0JykpXG5dKTtcbiIsIi8qKlxuICogYW5ndWxhcjItY29va2llLWxhd1xuICpcbiAqIENvcHlyaWdodCAyMDE2LTIwMTgsIEBhbmRyZWFzb25ueTgzLCBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIEBhdXRob3I6IEBhbmRyZWFzb25ueTgzIDxhbmRyZWFzb25ueTgzQGdtYWlsLmNvbT5cbiAqL1xuXG5pbXBvcnQge1xuICBDb21wb25lbnQsXG4gIE9uSW5pdCxcbiAgSG9zdEJpbmRpbmcsXG4gIFZpZXdFbmNhcHN1bGF0aW9uLFxuICBJbnB1dCxcbiAgT3V0cHV0LFxuICBFdmVudEVtaXR0ZXJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEb21TYW5pdGl6ZXIsIFNhZmVIdG1sIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XG5pbXBvcnQgeyBBbmltYXRpb25FdmVudCB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHsgY2xvc2VJY29uIH0gZnJvbSAnLi9pY29ucyc7XG5pbXBvcnQgeyB0cmFuc2xhdGVJbk91dCB9IGZyb20gJy4vYW5pbWF0aW9ucyc7XG5pbXBvcnQge1xuICBDb29raWVMYXdBbmltYXRpb24sXG4gIENvb2tpZUxhd1RhcmdldCxcbiAgQ29va2llTGF3UG9zaXRpb25cbn0gZnJvbSAnLi9kZWZpbml0aW9ucyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2Nvb2tpZS1sYXctY29tcG9uZW50JyxcbiAgdGVtcGxhdGU6IGA8ZGl2XG4gIGNsYXNzPVwiY29va2llLWxhdy13cmFwcGVyXCJcbiAgW25nU3R5bGVdPVwiY3VycmVudFN0eWxlc1wiXG4gIFtAdHJhbnNpdGlvbl09XCJ0cmFuc2l0aW9uXCJcbiAgKEB0cmFuc2l0aW9uLmRvbmUpPVwiYWZ0ZXJEaXNtaXNzQW5pbWF0aW9uKCRldmVudClcIlxuPlxuICA8ZGl2IGNsYXNzPVwiY29weVwiPlxuICAgIDxzcGFuICNyZWY+PG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50Pjwvc3Bhbj5cblxuICAgIDxzcGFuICpuZ0lmPVwicmVmLmNoaWxkTm9kZXMubGVuZ3RoID09IDBcIj5cbiAgICAgIEJ5IGNvbnRpbnVpbmcgdG8gYnJvd3NlIHRoZSBzaXRlLCB5b3UncmUgYWdyZWVpbmcgdG8gb3VyIHVzZSBvZiBjb29raWVzLlxuICAgICAgPHNwYW4gKm5nSWY9XCJsZWFybk1vcmVcIj5cbiAgICAgICAgTGVhcm4gbW9yZSBpbiBvdXJcbiAgICAgICAgPGEgW2hyZWZdPVwibGVhcm5Nb3JlXCIgW3RhcmdldF09XCJ0YXJnZXRcIiBbcmVsXT1cIm5vb3BlbmVyID8gJ25vb3BlbmVyIG5vcmVmZXJyZXInIDogbnVsbFwiXG4gICAgICAgICAgPnByaXZhY3kgcG9saWN5PC9hXG4gICAgICAgID4uXG4gICAgICA8L3NwYW4+XG4gICAgPC9zcGFuPlxuXG4gICAgPGFcbiAgICAgIGhyZWY9XCIjXCJcbiAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgY2xhc3M9XCJkaXNtaXNzXCJcbiAgICAgIFtpbm5lckhUTUxdPVwiY2xvc2VTdmdcIlxuICAgICAgKGNsaWNrKT1cImRpc21pc3MoJGV2ZW50KVwiXG4gICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cImNsb3NlU3ZnXCJcbiAgICA+PC9hPlxuICA8L2Rpdj5cbjwvZGl2PlxuYCxcbiAgc3R5bGVzOiBbYC5jb29raWUtbGF3LXdyYXBwZXJ7YmFja2dyb3VuZDojMzMzO2NvbG9yOiNiYmI7ZGlzcGxheTpibG9jaztmb250LWZhbWlseTpIZWx2ZXRpY2EgTmV1ZSxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjtmb250LXNpemU6MTVweDtmb250LXdlaWdodDoyMDA7bGluZS1oZWlnaHQ6MjBweDtwb3NpdGlvbjpmaXhlZDtib3R0b206MDtsZWZ0OjA7d2lkdGg6MTAwJTt6LWluZGV4Ojk5OTk5OTk5OTtmb250LXNtb290aDphbHdheXM7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZH0uY29va2llLWxhdy13cmFwcGVyIGF7Y29sb3I6I2JiYjt0cmFuc2l0aW9uOmNvbG9yIC4yc30uY29va2llLWxhdy13cmFwcGVyIGE6aG92ZXJ7Y29sb3I6I2ZmZn0uY29va2llLWxhdy13cmFwcGVyIGE6aG92ZXIgc3Zne2ZpbGw6I2ZmZn0uY29va2llLWxhdy13cmFwcGVyIC5kaXNtaXNze2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MTBweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtyaWdodDoxMHB4O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0OjIwcHh9LmNvb2tpZS1sYXctd3JhcHBlciAuZGlzbWlzcyBzdmd7ZGlzcGxheTpibG9jaztmaWxsOiNiYmI7d2lkdGg6MjBweDtoZWlnaHQ6MjBweDt0cmFuc2l0aW9uOmZpbGwgLjJzfS5jb29raWUtbGF3LXdyYXBwZXIgLmNvcHl7Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MTBweCA2MHB4IDEwcHggMTBweH0uY29va2llLWxhdy13cmFwcGVyIC5jb3B5IHNwYW57Y29sb3I6I2ZmZjtmb250LXdlaWdodDo0MDB9LmNvb2tpZS1sYXctd3JhcHBlciAuY29weSBhe3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9LmNvb2tpZS1sYXctd3JhcHBlciAuY29weSBhOmFjdGl2ZSwuY29weSBhOmhvdmVye291dGxpbmU6MH1AbWVkaWEgKG1pbi13aWR0aDo2MDBweCl7LmNvb2tpZS1sYXctd3JhcHBlciAuY29weXtwYWRkaW5nOjIwcHggNjBweCAyMHB4IDIwcHg7Zm9udC1zaXplOjE4cHg7bGluZS1oZWlnaHQ6MjRweH0uY29va2llLWxhdy13cmFwcGVyIC5kaXNtaXNze3RvcDoxMHB4O3JpZ2h0OjE1cHh9LmNvb2tpZS1sYXctd3JhcHBlciAuZGlzbWlzcyBzdmd7d2lkdGg6MjRweDtoZWlnaHQ6MjRweH19YF0sXG4gIGFuaW1hdGlvbnM6IFt0cmFuc2xhdGVJbk91dF0sXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgQ29va2llTGF3Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgcHVibGljIGNsb3NlU3ZnOiBTYWZlSHRtbDtcbiAgcHVibGljIGN1cnJlbnRTdHlsZXM6IGFueTtcbiAgcHVibGljIHRyYW5zaXRpb246IENvb2tpZUxhd0FuaW1hdGlvbjtcblxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLmNvb2tpZS1sYXcnKVxuICBwdWJsaWMgY29va2llTGF3Q2xhc3M6IGJvb2xlYW47XG5cbiAgQElucHV0KClcbiAgZ2V0IGxlYXJuTW9yZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGVhcm5Nb3JlO1xuICB9XG4gIHNldCBsZWFybk1vcmUodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX2xlYXJuTW9yZSA9IHZhbHVlICE9PSBudWxsICYmIGAke3ZhbHVlfWAgIT09ICdmYWxzZScgPyB2YWx1ZSA6IG51bGw7XG4gIH1cblxuICBASW5wdXQoKVxuICBnZXQgYXdzb21lQ2xvc2VJY29uKCkge1xuICAgIHJldHVybiB0aGlzLl9hd3NvbWVDbG9zZUljb247XG4gIH1cbiAgc2V0IGF3c29tZUNsb3NlSWNvbih2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fYXdzb21lQ2xvc2VJY29uID1cbiAgICAgIHZhbHVlICE9PSBudWxsICYmIGAke3ZhbHVlfWAgIT09ICdmYWxzZScgPyB2YWx1ZSA6IG51bGw7XG4gIH1cblxuICBASW5wdXQoKVxuICBnZXQgdGFyZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XG4gIH1cbiAgc2V0IHRhcmdldCh2YWx1ZTogQ29va2llTGF3VGFyZ2V0KSB7XG4gICAgdGhpcy5fdGFyZ2V0ID1cbiAgICAgIHZhbHVlICE9PSBudWxsICYmXG4gICAgICBgJHt2YWx1ZX1gICE9PSAnZmFsc2UnICYmXG4gICAgICAoYCR7dmFsdWV9YCA9PT0gJ19ibGFuaycgfHwgYCR7dmFsdWV9YCA9PT0gJ19zZWxmJylcbiAgICAgICAgPyB2YWx1ZVxuICAgICAgICA6ICdfYmxhbmsnO1xuICB9XG5cbiAgQElucHV0KClcbiAgZ2V0IHBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcbiAgfVxuICBzZXQgcG9zaXRpb24odmFsdWU6IENvb2tpZUxhd1Bvc2l0aW9uKSB7XG4gICAgdGhpcy5fcG9zaXRpb24gPVxuICAgICAgdmFsdWUgIT09IG51bGwgJiZcbiAgICAgIGAke3ZhbHVlfWAgIT09ICdmYWxzZScgJiZcbiAgICAgIChgJHt2YWx1ZX1gID09PSAndG9wJyB8fCBgJHt2YWx1ZX1gID09PSAnYm90dG9tJylcbiAgICAgICAgPyB2YWx1ZVxuICAgICAgICA6ICdib3R0b20nO1xuICB9XG5cbiAgQE91dHB1dCgpXG4gIHB1YmxpYyBpc1NlZW4gPSBuZXcgRXZlbnRFbWl0dGVyPGJvb2xlYW4+KCk7XG5cbiAgcHVibGljIG5vb3BlbmVyOiBib29sZWFuO1xuXG4gIHByaXZhdGUgX2xlYXJuTW9yZTogc3RyaW5nO1xuICBwcml2YXRlIF9hd3NvbWVDbG9zZUljb246IHN0cmluZztcbiAgcHJpdmF0ZSBfdGFyZ2V0OiBDb29raWVMYXdUYXJnZXQ7XG4gIHByaXZhdGUgX3Bvc2l0aW9uOiBDb29raWVMYXdQb3NpdGlvbjtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRvbVNhbml0aXplcjogRG9tU2FuaXRpemVyKSB7XG4gICAgdGhpcy50cmFuc2l0aW9uID0gJ2JvdHRvbUluJztcbiAgICB0aGlzLl9wb3NpdGlvbiA9ICdib3R0b20nO1xuICAgIHRoaXMuY29va2llTGF3Q2xhc3MgPSB0cnVlO1xuICB9XG5cbiAgcHVibGljIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMubm9vcGVuZXIgPSB0aGlzLl90YXJnZXQgPT09ICdfYmxhbmsnO1xuICAgIHRoaXMudHJhbnNpdGlvbiA9IHRoaXMucG9zaXRpb24gPT09ICdib3R0b20nID8gJ2JvdHRvbUluJyA6ICd0b3BJbic7XG5cbiAgICBpZiAodGhpcy5fYXdzb21lQ2xvc2VJY29uKSB7XG4gICAgICB0aGlzLmNsb3NlU3ZnID0gdGhpcy5kb21TYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdEh0bWwoXG4gICAgICAgIGA8aSBjbGFzcz1cImZhYiAke3RoaXMuX2F3c29tZUNsb3NlSWNvbn1cIj48L2k+YFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jbG9zZVN2ZyA9IHRoaXMuZG9tU2FuaXRpemVyLmJ5cGFzc1NlY3VyaXR5VHJ1c3RIdG1sKGNsb3NlSWNvbik7XG4gICAgfVxuXG4gICAgdGhpcy5jdXJyZW50U3R5bGVzID0ge1xuICAgICAgdG9wOiB0aGlzLnBvc2l0aW9uID09PSAndG9wJyA/ICcwJyA6IG51bGwsXG4gICAgICBib3R0b206IHRoaXMucG9zaXRpb24gPT09ICd0b3AnID8gJ2luaXRpYWwnIDogbnVsbFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgYWZ0ZXJEaXNtaXNzQW5pbWF0aW9uKGV2dDogQW5pbWF0aW9uRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZ0LnRvU3RhdGUgPT09ICd0b3BPdXQnIHx8IGV2dC50b1N0YXRlID09PSAnYm90dG9tT3V0Jykge1xuICAgICAgdGhpcy5pc1NlZW4uZW1pdCh0cnVlKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZGlzbWlzcyhldnQ/OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2dCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgdGhpcy50cmFuc2l0aW9uID0gdGhpcy5wb3NpdGlvbiA9PT0gJ3RvcCcgPyAndG9wT3V0JyA6ICdib3R0b21PdXQnO1xuICB9XG59XG4iLCIvKipcbiAqIGFuZ3VsYXIyLWNvb2tpZS1sYXdcbiAqXG4gKiBDb3B5cmlnaHQgMjAxNi0yMDE4LCBAYW5kcmVhc29ubnk4MywgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yOiBAYW5kcmVhc29ubnk4MyA8YW5kcmVhc29ubnk4M0BnbWFpbC5jb20+XG4gKi9cblxuaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBPbkluaXQsXG4gIFZpZXdDaGlsZCxcbiAgSG9zdEJpbmRpbmcsXG4gIElucHV0LFxuICBPdXRwdXQsXG4gIEV2ZW50RW1pdHRlclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgQW5ndWxhcjJDb29raWVMYXdTZXJ2aWNlIH0gZnJvbSAnLi9hbmd1bGFyMi1jb29raWUtbGF3LnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29va2llTGF3Q29tcG9uZW50IH0gZnJvbSAnLi9hbmd1bGFyMi1jb29raWUtbGF3LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb29raWVMYXdUYXJnZXQsIENvb2tpZUxhd1Bvc2l0aW9uIH0gZnJvbSAnLi9kZWZpbml0aW9ucyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2Nvb2tpZS1sYXcnLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxjb29raWUtbGF3LWNvbXBvbmVudFxuICAgICAgKm5nSWY9XCIhc2VlblwiXG4gICAgICBbYXdzb21lQ2xvc2VJY29uXT1cImF3c29tZUNsb3NlSWNvblwiXG4gICAgICBbbGVhcm5Nb3JlXT1cImxlYXJuTW9yZVwiXG4gICAgICBbdGFyZ2V0XT1cInRhcmdldFwiXG4gICAgICBbcG9zaXRpb25dPVwicG9zaXRpb25cIlxuICAgICAgKGlzU2Vlbik9XCJoYXNCZWVuRGlzbWlzc2VkKClcIlxuICAgID5cbiAgICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbiAgICA8L2Nvb2tpZS1sYXctY29tcG9uZW50PlxuICBgXG59KVxuZXhwb3J0IGNsYXNzIENvb2tpZUxhd0NvbnRhaW5lckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBIb3N0QmluZGluZygnYXR0ci5zZWVuJylcbiAgcHVibGljIHNlZW46IGJvb2xlYW47XG5cbiAgQFZpZXdDaGlsZChDb29raWVMYXdDb21wb25lbnQpXG4gIHB1YmxpYyBjb29raWVMYXdDb21wb25lbnQ6IENvb2tpZUxhd0NvbXBvbmVudDtcblxuICBASW5wdXQoKVxuICBwdWJsaWMgbmFtZTogc3RyaW5nO1xuXG4gIEBJbnB1dCgpXG4gIHB1YmxpYyBsZWFybk1vcmU6IHN0cmluZztcblxuICBASW5wdXQoKVxuICBwdWJsaWMgdGFyZ2V0OiBDb29raWVMYXdUYXJnZXQ7XG5cbiAgQElucHV0KClcbiAgcHVibGljIHBvc2l0aW9uOiBDb29raWVMYXdQb3NpdGlvbjtcblxuICBASW5wdXQoKVxuICBwdWJsaWMgZXhwaXJhdGlvbjogbnVtYmVyO1xuXG4gIEBJbnB1dCgpXG4gIHB1YmxpYyBhd3NvbWVDbG9zZUljb246IHN0cmluZztcblxuICBAT3V0cHV0KClcbiAgcHVibGljIGlzU2VlbiA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcblxuICBwdWJsaWMgZ2V0IGNvb2tpZUxhd1NlZW4oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29va2llTGF3U2VydmljZS5zZWVuKHRoaXMubmFtZSk7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvb2tpZUxhd1NlcnZpY2U6IEFuZ3VsYXIyQ29va2llTGF3U2VydmljZSkge1xuICAgIHRoaXMubmFtZSA9ICdjb29raWVMYXdTZWVuJzsgLy8gc2V0IGEgZGVmYXVsdCBjb29raWUgbmFtZSBpZiBub3QgcHJvdmlkZWRcbiAgICB0aGlzLnNlZW4gPSB0cnVlO1xuICB9XG5cbiAgcHVibGljIG5nT25Jbml0KCkge1xuICAgIHRoaXMuc2VlbiA9IHRoaXMuY29va2llTGF3U2VydmljZS5zZWVuKHRoaXMubmFtZSk7XG4gIH1cblxuICBwdWJsaWMgaGFzQmVlbkRpc21pc3NlZCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvb2tpZUxhd1NlcnZpY2Uuc3RvcmVDb29raWUodGhpcy5uYW1lLCB0aGlzLmV4cGlyYXRpb24pO1xuICAgIHRoaXMuc2VlbiA9IHRydWU7XG4gICAgdGhpcy5pc1NlZW4uZW1pdCh0cnVlKTtcbiAgfVxuXG4gIHB1YmxpYyBkaXNtaXNzKCk6IHZvaWQge1xuICAgIHRoaXMuY29va2llTGF3Q29tcG9uZW50LmRpc21pc3MoKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBhbmd1bGFyMi1jb29raWUtbGF3XG4gKlxuICogQ29weXJpZ2h0IDIwMTYtMjAxOCwgQGFuZHJlYXNvbm55ODMsIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvcjogQGFuZHJlYXNvbm55ODMgPGFuZHJlYXNvbm55ODNAZ21haWwuY29tPlxuICovXG5cbmltcG9ydCB7XG4gIE5nTW9kdWxlLFxuICBPcHRpb25hbCxcbiAgU2tpcFNlbGYsXG4gIE1vZHVsZVdpdGhQcm92aWRlcnNcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5pbXBvcnQgeyBDb29raWVMYXdDb21wb25lbnQgfSBmcm9tICcuL2FuZ3VsYXIyLWNvb2tpZS1sYXcuY29tcG9uZW50JztcbmltcG9ydCB7IENvb2tpZUxhd0NvbnRhaW5lckNvbXBvbmVudCB9IGZyb20gJy4vYW5ndWxhcjItY29va2llLWxhdy1jb250YWluZXIuY29tcG9uZW50JztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW0NvbW1vbk1vZHVsZV0sXG4gIGRlY2xhcmF0aW9uczogW0Nvb2tpZUxhd0NvbXBvbmVudCwgQ29va2llTGF3Q29udGFpbmVyQ29tcG9uZW50XSxcbiAgZXhwb3J0czogW0Nvb2tpZUxhd0NvbnRhaW5lckNvbXBvbmVudF1cbn0pXG5leHBvcnQgY2xhc3MgQ29va2llTGF3TW9kdWxlIHtcbiAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgQFNraXBTZWxmKCkgcGFyZW50TW9kdWxlOiBDb29raWVMYXdNb2R1bGUpIHtcbiAgICBpZiAocGFyZW50TW9kdWxlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdDb29raWVMYXdNb2R1bGUgaXMgYWxyZWFkeSBsb2FkZWQuIEltcG9ydCBpdCBpbiB0aGUgQXBwTW9kdWxlIG9ubHknXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbImlzUGxhdGZvcm1Ccm93c2VyIiwiSW5qZWN0YWJsZSIsIkluamVjdCIsIkRPQ1VNRU5UIiwiUExBVEZPUk1fSUQiLCJ0cmlnZ2VyIiwic3RhdGUiLCJzdHlsZSIsInRyYW5zaXRpb24iLCJhbmltYXRlIiwiRXZlbnRFbWl0dGVyIiwiQ29tcG9uZW50IiwiVmlld0VuY2Fwc3VsYXRpb24iLCJEb21TYW5pdGl6ZXIiLCJIb3N0QmluZGluZyIsIklucHV0IiwiT3V0cHV0IiwiVmlld0NoaWxkIiwiTmdNb2R1bGUiLCJDb21tb25Nb2R1bGUiLCJPcHRpb25hbCIsIlNraXBTZWxmIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztRQWVFLGtDQUM0QixLQUNHO1lBREgsUUFBRyxHQUFILEdBQUc7WUFDQSxhQUFRLEdBQVIsUUFBUTtTQUNuQzs7Ozs7UUFFRyx1Q0FBSTs7OztzQkFBQyxVQUFvQztnQkFBcEMsMkJB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