{"version":3,"sources":["ng://angular2-cookie-law/lib/angular2-cookie-law.service.ts","ng://angular2-cookie-law/lib/animations.ts","ng://angular2-cookie-law/lib/angular2-cookie-law.component.ts","ng://angular2-cookie-law/lib/icons.ts","ng://angular2-cookie-law/lib/angular2-cookie-law-container.component.ts","ng://angular2-cookie-law/lib/angular2-cookie-law.module.ts"],"names":["Angular2CookieLawService","doc","platform","this","prototype","seen","cookieName","cookies","isPlatformBrowser","cookie","split","cookieExisits","storeCookie","expiration","setCookie","name","reduce","prev","curr","trim","search","now","Date","exp","getTime","cookieString","encodeURIComponent","toUTCString","Injectable","args","providedIn","Inject","DOCUMENT","PLATFORM_ID","translateInOut","trigger","state","style","transform","transition","animate","CookieLawComponent","domSanitizer","EventEmitter","_position","cookieLawClass","_learnMore","value","_awsomeCloseIcon","_target","ngOnInit","noopener","position","closeSvg","bypassSecurityTrustHtml","currentStyles","top","bottom","afterDismissAnimation","evt","toState","isSeen","emit","dismiss","preventDefault","Component","selector","template","styles","animations","encapsulation","ViewEncapsulation","None","DomSanitizer","HostBinding","Input","Output","CookieLawContainerComponent","cookieLawService","hasBeenDismissed","cookieLawComponent","ViewChild","CookieLawModule","parentModule","Error","NgModule","imports","CommonModule","declarations","exports","decorators","type","Optional","SkipSelf"],"mappings":"+fAeE,SAAAA,EAC4BC,EACGC,GADHC,KAAAF,IAAAA,EACGE,KAAAD,SAAAA,SAGxBF,EAAAI,UAAAC,cAAKC,QAAA,IAAAA,IAAAA,EAAA,iBACV,IAAIC,EAAyB,GAM7B,OAJIC,EAAAA,kBAAkBL,KAAKD,YACzBK,EAAUJ,KAAKF,IAAIQ,OAAOC,MAAM,MAG3BP,KAAKQ,cAAcL,EAAYC,IAGjCP,EAAAI,UAAAQ,qBAAYN,EAAoBO,GACrC,OAAOV,KAAKW,UAAUR,EAAYO,IAG5Bb,EAAAI,UAAAO,uBAAcI,EAAcR,GAClC,IAAMD,EAAgBS,EAAI,IAE1B,OAAOR,EAAQS,OACb,SAACC,EAAMC,GAAS,OAAAD,IAA0C,EAAlCC,EAAKC,OAAOC,OAAOd,KAC3C,IAIIN,EAAAI,UAAAU,mBAAUC,EAAcF,GAC9B,IAAMQ,EAAY,IAAIC,KAChBC,EAAY,IAAID,KAAKD,EAAIG,UAAyB,MAAbX,GAErCY,EACJC,mBAAmBX,GAAQ,wBAAwBQ,EAAII,cAAa,IAElEnB,EAAAA,kBAAkBL,KAAKD,YACzBC,KAAKF,IAAIQ,OAASgB,wBAxCvBG,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,gFAITC,EAAAA,OAAMF,KAAA,CAACG,EAAAA,4CACPD,EAAAA,OAAMF,KAAA,CAACI,EAAAA,wKCACC,EAA2CC,EAAAA,QAAQ,aAAc,CAC5EC,EAAAA,MAAM,IAAKC,EAAAA,MAAM,CAAEC,UAAW,mBAC9BF,EAAAA,MAAM,OAAQC,EAAAA,MAAM,CAAEC,UAAW,mBAEjCF,EAAAA,MAAM,YAAaC,EAAAA,MAAM,CAAEC,UAAW,sBACtCF,EAAAA,MAAM,SAAUC,EAAAA,MAAM,CAAEC,UAAW,uBAEnCC,EAAAA,WAAW,gBAAiB,CAC1BF,EAAAA,MAAM,CAAEC,UAAW,sBACnBE,EAAAA,QAAQ,wBAGVD,EAAAA,WAAW,mBAAoB,CAC7BF,EAAAA,MAAM,CAAEC,UAAW,qBACnBE,EAAAA,QAAQ,wBAGVD,EAAAA,WAAW,SAAUC,EAAAA,QAAQ,mCC0F7B,SAAAC,EAAoBC,GAAAvC,KAAAuC,aAAAA,cATJ,IAAIC,EAAAA,aAUlBxC,KAAKoC,WAAa,WAClBpC,KAAKyC,UAAY,SACjBzC,KAAK0C,gBAAiB,+BAvDpBJ,EAAArC,UAAA,YAAS,gBACX,OAAOD,KAAK2C,gBAEd,SAAcC,GACZ5C,KAAK2C,WAAuB,OAAVC,GAAkB,GAAGA,GAAY,QAAUA,EAAQ,4DAInEN,EAAArC,UAAA,kBAAe,gBACjB,OAAOD,KAAK6C,sBAEd,SAAoBD,GAClB5C,KAAK6C,iBACO,OAAVD,GAAkB,GAAGA,GAAY,QAAUA,EAAQ,4DAInDN,EAAArC,UAAA,SAAM,gBACR,OAAOD,KAAK8C,aAEd,SAAWF,GACT5C,KAAK8C,QACO,OAAVF,GACA,GAAGA,GAAY,SACd,GAAGA,GAAY,UAAY,GAAGA,GAAY,QAEvC,SADAA,yDAKJN,EAAArC,UAAA,WAAQ,gBACV,OAAOD,KAAKyC,eAEd,SAAaG,GACX5C,KAAKyC,UACO,OAAVG,GACA,GAAGA,GAAY,SACd,GAAGA,GAAY,OAAS,GAAGA,GAAY,SAEpC,SADAA,mCAoBDN,EAAArC,UAAA8C,oBACL/C,KAAKgD,SAA4B,WAAjBhD,KAAK8C,QACrB9C,KAAKoC,WAA+B,WAAlBpC,KAAKiD,SAAwB,WAAa,QAExDjD,KAAK6C,iBACP7C,KAAKkD,SAAWlD,KAAKuC,aAAaY,wBAChC,iBAAiBnD,KAAK6C,iBAAgB,UAGxC7C,KAAKkD,SAAWlD,KAAKuC,aAAaY,wBCnIf,o+BDsIrBnD,KAAKoD,cAAgB,CACnBC,IAAuB,QAAlBrD,KAAKiD,SAAqB,IAAM,KACrCK,OAA0B,QAAlBtD,KAAKiD,SAAqB,UAAY,OAI3CX,EAAArC,UAAAsD,+BAAsBC,GACP,WAAhBA,EAAIC,SAAwC,cAAhBD,EAAIC,SAClCzD,KAAK0D,OAAOC,MAAK,IAIdrB,EAAArC,UAAA2D,iBAAQJ,GACTA,GACFA,EAAIK,iBAGN7D,KAAKoC,WAA+B,QAAlBpC,KAAKiD,SAAqB,SAAW,iCApI1Da,EAAAA,UAASpC,KAAA,CAAC,CACTqC,SAAU,uBACVC,SAAU,8wBA8BVC,OAAQ,CAAC,2mCACTC,WAAY,CAACnC,GACboC,cAAeC,EAAAA,kBAAkBC,kDA5C1BC,EAAAA,wDAmDNC,EAAAA,YAAW7C,KAAA,CAAC,uCAGZ8C,EAAAA,+BAQAA,EAAAA,sBASAA,EAAAA,wBAaAA,EAAAA,sBAaAC,EAAAA,4BE7CD,SAAAC,EAAoBC,GAAA3E,KAAA2E,iBAAAA,cANJ,IAAInC,EAAAA,aAOlBxC,KAAKY,KAAO,gBACZZ,KAAKE,MAAO,+BANHwE,EAAAzE,UAAA,gBAAa,gBACtB,OAAOD,KAAK2E,iBAAiBzE,KAAKF,KAAKY,uCAQlC8D,EAAAzE,UAAA8C,oBACL/C,KAAKE,KAAOF,KAAK2E,iBAAiBzE,KAAKF,KAAKY,OAGvC8D,EAAAzE,UAAA2E,4BACL5E,KAAK2E,iBAAiBlE,YAAYT,KAAKY,KAAMZ,KAAKU,YAClDV,KAAKE,MAAO,EACZF,KAAK0D,OAAOC,MAAK,IAGZe,EAAAzE,UAAA2D,mBACL5D,KAAK6E,mBAAmBjB,+BA/D3BE,EAAAA,UAASpC,KAAA,CAAC,CACTqC,SAAU,aACVC,SAAU,8UANHnE,mCAoBN0E,EAAAA,YAAW7C,KAAA,CAAC,yCAGZoD,EAAAA,UAASpD,KAAA,CAACY,iBAGVkC,EAAAA,yBAGAA,EAAAA,sBAGAA,EAAAA,wBAGAA,EAAAA,0BAGAA,EAAAA,+BAGAA,EAAAA,sBAGAC,EAAAA,4BCrCD,SAAAM,EAAoCC,GAClC,GAAIA,EACF,MAAM,IAAIC,MACR,iGATPC,EAAAA,SAAQxD,KAAA,CAAC,CACRyD,QAAS,CAACC,EAAAA,cACVC,aAAc,CAAC/C,EAAoBoC,GACnCY,QAAS,CAACZ,gDAECK,EAAeQ,WAAA,CAAA,CAAAC,KACbC,EAAAA,UAAQ,CAAAD,KAAIE,EAAAA","sourcesContent":["/**\n * angular2-cookie-law\n *\n * Copyright 2016-2018, @andreasonny83, All rights reserved.\n *\n * @author: @andreasonny83 <andreasonny83@gmail.com>\n */\n\nimport { Inject, Injectable, PLATFORM_ID } from '@angular/core';\nimport { DOCUMENT, isPlatformBrowser } from '@angular/common';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class Angular2CookieLawService {\n  constructor(\n    @Inject(DOCUMENT) private doc: any,\n    @Inject(PLATFORM_ID) private platform: Object\n  ) {}\n\n  public seen(cookieName: string = 'cookieLawSeen'): boolean {\n    let cookies: Array<string> = [];\n\n    if (isPlatformBrowser(this.platform)) {\n      cookies = this.doc.cookie.split(';');\n    }\n\n    return this.cookieExisits(cookieName, cookies);\n  }\n\n  public storeCookie(cookieName: string, expiration?: number): void {\n    return this.setCookie(cookieName, expiration);\n  }\n\n  private cookieExisits(name: string, cookies: Array<string>): boolean {\n    const cookieName = `${name}=`;\n\n    return cookies.reduce(\n      (prev, curr) => prev || curr.trim().search(cookieName) > -1,\n      false\n    );\n  }\n\n  private setCookie(name: string, expiration?: number): void {\n    const now: Date = new Date();\n    const exp: Date = new Date(now.getTime() + expiration * 86400000);\n\n    const cookieString =\n      encodeURIComponent(name) + `=true;path=/;expires=${exp.toUTCString()};`;\n\n    if (isPlatformBrowser(this.platform)) {\n      this.doc.cookie = cookieString;\n    }\n  }\n}\n","/**\n * angular2-cookie-law\n *\n * Copyright 2016-2018, @andreasonny83, All rights reserved.\n *\n * @author: @andreasonny83 <andreasonny83@gmail.com>\n */\n\nimport {\n  trigger,\n  state,\n  style,\n  animate,\n  transition,\n  AnimationTriggerMetadata\n} from '@angular/animations';\n\nexport const translateInOut: AnimationTriggerMetadata = trigger('transition', [\n  state('*', style({ transform: 'translateY(0)' })),\n  state('void', style({ transform: 'translateY(0)' })),\n\n  state('bottomOut', style({ transform: 'translateY(100%)' })),\n  state('topOut', style({ transform: 'translateY(-100%)' })),\n\n  transition('void => topIn', [\n    style({ transform: 'translateY(-100%)' }),\n    animate('1000ms ease-in-out')\n  ]),\n\n  transition('void => bottomIn', [\n    style({ transform: 'translateY(100%)' }),\n    animate('1000ms ease-in-out')\n  ]),\n\n  transition('* => *', animate('1000ms ease-out'))\n]);\n","/**\n * angular2-cookie-law\n *\n * Copyright 2016-2018, @andreasonny83, All rights reserved.\n *\n * @author: @andreasonny83 <andreasonny83@gmail.com>\n */\n\nimport {\n  Component,\n  OnInit,\n  HostBinding,\n  ViewEncapsulation,\n  Input,\n  Output,\n  EventEmitter\n} from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\nimport { AnimationEvent } from '@angular/animations';\nimport { closeIcon } from './icons';\nimport { translateInOut } from './animations';\nimport {\n  CookieLawAnimation,\n  CookieLawTarget,\n  CookieLawPosition\n} from './definitions';\n\n@Component({\n  selector: 'cookie-law-component',\n  template: `<div\n  class=\"cookie-law-wrapper\"\n  [ngStyle]=\"currentStyles\"\n  [@transition]=\"transition\"\n  (@transition.done)=\"afterDismissAnimation($event)\"\n>\n  <div class=\"copy\">\n    <span #ref><ng-content></ng-content></span>\n\n    <span *ngIf=\"ref.childNodes.length == 0\">\n      By continuing to browse the site, you're agreeing to our use of cookies.\n      <span *ngIf=\"learnMore\">\n        Learn more in our\n        <a [href]=\"learnMore\" [target]=\"target\" [rel]=\"noopener ? 'noopener noreferrer' : null\"\n          >privacy policy</a\n        >.\n      </span>\n    </span>\n\n    <a\n      href=\"#\"\n      role=\"button\"\n      class=\"dismiss\"\n      [innerHTML]=\"closeSvg\"\n      (click)=\"dismiss($event)\"\n      [attr.aria-label]=\"closeSvg\"\n    ></a>\n  </div>\n</div>\n`,\n  styles: [`.cookie-law-wrapper{background:#333;color:#bbb;display:block;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:15px;font-weight:200;line-height:20px;position:fixed;bottom:0;left:0;width:100%;z-index:999999999;font-smooth:always;-webkit-font-smoothing:antialiased}.cookie-law-wrapper a{color:#bbb;transition:color .2s}.cookie-law-wrapper a:hover{color:#fff}.cookie-law-wrapper a:hover svg{fill:#fff}.cookie-law-wrapper .dismiss{display:block;box-sizing:border-box;padding:10px;position:absolute;top:0;right:10px;text-decoration:none;line-height:20px}.cookie-law-wrapper .dismiss svg{display:block;fill:#bbb;width:20px;height:20px;transition:fill .2s}.cookie-law-wrapper .copy{box-sizing:border-box;padding:10px 60px 10px 10px}.cookie-law-wrapper .copy span{color:#fff;font-weight:400}.cookie-law-wrapper .copy a{text-decoration:underline}.cookie-law-wrapper .copy a:active,.copy a:hover{outline:0}@media (min-width:600px){.cookie-law-wrapper .copy{padding:20px 60px 20px 20px;font-size:18px;line-height:24px}.cookie-law-wrapper .dismiss{top:10px;right:15px}.cookie-law-wrapper .dismiss svg{width:24px;height:24px}}`],\n  animations: [translateInOut],\n  encapsulation: ViewEncapsulation.None\n})\nexport class CookieLawComponent implements OnInit {\n  public closeSvg: SafeHtml;\n  public currentStyles: any;\n  public transition: CookieLawAnimation;\n\n  @HostBinding('class.cookie-law')\n  public cookieLawClass: boolean;\n\n  @Input()\n  get learnMore() {\n    return this._learnMore;\n  }\n  set learnMore(value: string) {\n    this._learnMore = value !== null && `${value}` !== 'false' ? value : null;\n  }\n\n  @Input()\n  get awsomeCloseIcon() {\n    return this._awsomeCloseIcon;\n  }\n  set awsomeCloseIcon(value: string) {\n    this._awsomeCloseIcon =\n      value !== null && `${value}` !== 'false' ? value : null;\n  }\n\n  @Input()\n  get target() {\n    return this._target;\n  }\n  set target(value: CookieLawTarget) {\n    this._target =\n      value !== null &&\n      `${value}` !== 'false' &&\n      (`${value}` === '_blank' || `${value}` === '_self')\n        ? value\n        : '_blank';\n  }\n\n  @Input()\n  get position() {\n    return this._position;\n  }\n  set position(value: CookieLawPosition) {\n    this._position =\n      value !== null &&\n      `${value}` !== 'false' &&\n      (`${value}` === 'top' || `${value}` === 'bottom')\n        ? value\n        : 'bottom';\n  }\n\n  @Output()\n  public isSeen = new EventEmitter<boolean>();\n\n  public noopener: boolean;\n\n  private _learnMore: string;\n  private _awsomeCloseIcon: string;\n  private _target: CookieLawTarget;\n  private _position: CookieLawPosition;\n\n  constructor(private domSanitizer: DomSanitizer) {\n    this.transition = 'bottomIn';\n    this._position = 'bottom';\n    this.cookieLawClass = true;\n  }\n\n  public ngOnInit(): void {\n    this.noopener = this._target === '_blank';\n    this.transition = this.position === 'bottom' ? 'bottomIn' : 'topIn';\n\n    if (this._awsomeCloseIcon) {\n      this.closeSvg = this.domSanitizer.bypassSecurityTrustHtml(\n        `<i class=\"fab ${this._awsomeCloseIcon}\"></i>`\n      );\n    } else {\n      this.closeSvg = this.domSanitizer.bypassSecurityTrustHtml(closeIcon);\n    }\n\n    this.currentStyles = {\n      top: this.position === 'top' ? '0' : null,\n      bottom: this.position === 'top' ? 'initial' : null\n    };\n  }\n\n  public afterDismissAnimation(evt: AnimationEvent): void {\n    if (evt.toState === 'topOut' || evt.toState === 'bottomOut') {\n      this.isSeen.emit(true);\n    }\n  }\n\n  public dismiss(evt?: MouseEvent): void {\n    if (evt) {\n      evt.preventDefault();\n    }\n\n    this.transition = this.position === 'top' ? 'topOut' : 'bottomOut';\n  }\n}\n","/**\n * angular2-cookie-law\n *\n * Copyright 2016-2018, @andreasonny83, All rights reserved.\n *\n * @author: @andreasonny83 <andreasonny83@gmail.com>\n */\n\nexport const closeIcon = `\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n    <path d=\"M377.047 184.198q0 8.26-6.037 14.297L313.505 256l57.505 57.505q6.037 6.037 6.037 14.297 0 8.578-6.037\n      14.615l-28.593 28.593q-6.037 6.037-14.615 6.037-8.26 0-14.297-6.037L256 313.505l-57.505 57.505q-6.037\n      6.037-14.297 6.037-8.578 0-14.615-6.037l-28.593-28.593q-6.037-6.037-6.037-14.615 0-8.26 6.037-14.297L198.495\n      256l-57.505-57.505q-6.037-6.037-6.037-14.297 0-8.578 6.037-14.615l28.593-28.593q6.037-6.037 14.615-6.037 8.26 0\n      14.297 6.037L256 198.495l57.505-57.505q6.037-6.037 14.297-6.037 8.578 0 14.615 6.037l28.593 28.593q6.037 6.037\n      6.037 14.615zM500 256q0-66.401-32.724-122.477-32.724-56.075-88.799-88.799Q322.401 12 256 12q-66.401 0-122.477\n      32.724-56.075 32.724-88.799 88.799Q12 189.599 12 256q0 66.401 32.724 122.477 32.724 56.075 88.799 88.799Q189.599\n      500 256 500q66.401 0 122.477-32.724 56.075-32.724 88.799-88.799Q500 322.401 500 256z\"></path>\n  </svg>`;\n","/**\n * angular2-cookie-law\n *\n * Copyright 2016-2018, @andreasonny83, All rights reserved.\n *\n * @author: @andreasonny83 <andreasonny83@gmail.com>\n */\n\nimport {\n  Component,\n  OnInit,\n  ViewChild,\n  HostBinding,\n  Input,\n  Output,\n  EventEmitter\n} from '@angular/core';\n\nimport { Angular2CookieLawService } from './angular2-cookie-law.service';\nimport { CookieLawComponent } from './angular2-cookie-law.component';\nimport { CookieLawTarget, CookieLawPosition } from './definitions';\n\n@Component({\n  selector: 'cookie-law',\n  template: `\n    <cookie-law-component\n      *ngIf=\"!seen\"\n      [awsomeCloseIcon]=\"awsomeCloseIcon\"\n      [learnMore]=\"learnMore\"\n      [target]=\"target\"\n      [position]=\"position\"\n      (isSeen)=\"hasBeenDismissed()\"\n    >\n      <ng-content></ng-content>\n    </cookie-law-component>\n  `\n})\nexport class CookieLawContainerComponent implements OnInit {\n  @HostBinding('attr.seen')\n  public seen: boolean;\n\n  @ViewChild(CookieLawComponent)\n  public cookieLawComponent: CookieLawComponent;\n\n  @Input()\n  public name: string;\n\n  @Input()\n  public learnMore: string;\n\n  @Input()\n  public target: CookieLawTarget;\n\n  @Input()\n  public position: CookieLawPosition;\n\n  @Input()\n  public expiration: number;\n\n  @Input()\n  public awsomeCloseIcon: string;\n\n  @Output()\n  public isSeen = new EventEmitter<boolean>();\n\n  public get cookieLawSeen(): boolean {\n    return this.cookieLawService.seen(this.name);\n  }\n\n  constructor(private cookieLawService: Angular2CookieLawService) {\n    this.name = 'cookieLawSeen'; // set a default cookie name if not provided\n    this.seen = true;\n  }\n\n  public ngOnInit() {\n    this.seen = this.cookieLawService.seen(this.name);\n  }\n\n  public hasBeenDismissed(): void {\n    this.cookieLawService.storeCookie(this.name, this.expiration);\n    this.seen = true;\n    this.isSeen.emit(true);\n  }\n\n  public dismiss(): void {\n    this.cookieLawComponent.dismiss();\n  }\n}\n","/**\n * angular2-cookie-law\n *\n * Copyright 2016-2018, @andreasonny83, All rights reserved.\n *\n * @author: @andreasonny83 <andreasonny83@gmail.com>\n */\n\nimport {\n  NgModule,\n  Optional,\n  SkipSelf,\n  ModuleWithProviders\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CookieLawComponent } from './angular2-cookie-law.component';\nimport { CookieLawContainerComponent } from './angular2-cookie-law-container.component';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [CookieLawComponent, CookieLawContainerComponent],\n  exports: [CookieLawContainerComponent]\n})\nexport class CookieLawModule {\n  constructor(@Optional() @SkipSelf() parentModule: CookieLawModule) {\n    if (parentModule) {\n      throw new Error(\n        'CookieLawModule is already loaded. Import it in the AppModule only'\n      );\n    }\n  }\n}\n"]}