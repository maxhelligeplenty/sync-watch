import { Inject, Injectable, PLATFORM_ID, Component, ViewChild, HostBinding, Input, Output, EventEmitter, ViewEncapsulation, NgModule, Optional, SkipSelf, defineInjectable, inject } from '@angular/core';
import { DOCUMENT, isPlatformBrowser, CommonModule } from '@angular/common';
import { trigger, state, style, animate, transition } from '@angular/animations';
import { DomSanitizer } from '@angular/platform-browser';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var Angular2CookieLawService = /** @class */ (function () {
    function Angular2CookieLawService(doc, platform) {
        this.doc = doc;
        this.platform = platform;
    }
    /**
     * @param {?=} cookieName
     * @return {?}
     */
    Angular2CookieLawService.prototype.seen = /**
     * @param {?=} cookieName
     * @return {?}
     */
    function (cookieName) {
        if (cookieName === void 0) { cookieName = 'cookieLawSeen'; }
        var /** @type {?} */ cookies = [];
        if (isPlatformBrowser(this.platform)) {
            cookies = this.doc.cookie.split(';');
        }
        return this.cookieExisits(cookieName, cookies);
    };
    /**
     * @param {?} cookieName
     * @param {?=} expiration
     * @return {?}
     */
    Angular2CookieLawService.prototype.storeCookie = /**
     * @param {?} cookieName
     * @param {?=} expiration
     * @return {?}
     */
    function (cookieName, expiration) {
        return this.setCookie(cookieName, expiration);
    };
    /**
     * @param {?} name
     * @param {?} cookies
     * @return {?}
     */
    Angular2CookieLawService.prototype.cookieExisits = /**
     * @param {?} name
     * @param {?} cookies
     * @return {?}
     */
    function (name, cookies) {
        var /** @type {?} */ cookieName = name + "=";
        return cookies.reduce(function (prev, curr) { return prev || curr.trim().search(cookieName) > -1; }, false);
    };
    /**
     * @param {?} name
     * @param {?=} expiration
     * @return {?}
     */
    Angular2CookieLawService.prototype.setCookie = /**
     * @param {?} name
     * @param {?=} expiration
     * @return {?}
     */
    function (name, expiration) {
        var /** @type {?} */ now = new Date();
        var /** @type {?} */ exp = new Date(now.getTime() + expiration * 86400000);
        var /** @type {?} */ cookieString = encodeURIComponent(name) + ("=true;path=/;expires=" + exp.toUTCString() + ";");
        if (isPlatformBrowser(this.platform)) {
            this.doc.cookie = cookieString;
        }
    };
    Angular2CookieLawService.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] },
    ];
    /** @nocollapse */
    Angular2CookieLawService.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] },] },
        { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] },] },
    ]; };
    /** @nocollapse */ Angular2CookieLawService.ngInjectableDef = defineInjectable({ factory: function Angular2CookieLawService_Factory() { return new Angular2CookieLawService(inject(DOCUMENT), inject(PLATFORM_ID)); }, token: Angular2CookieLawService, providedIn: "root" });
    return Angular2CookieLawService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * angular2-cookie-law
 *
 * Copyright 2016-2018, @andreasonny83, All rights reserved.
 *
 * @author: @andreasonny83 <andreasonny83@gmail.com>
 */
var /** @type {?} */ closeIcon = "\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n    <path d=\"M377.047 184.198q0 8.26-6.037 14.297L313.505 256l57.505 57.505q6.037 6.037 6.037 14.297 0 8.578-6.037\n      14.615l-28.593 28.593q-6.037 6.037-14.615 6.037-8.26 0-14.297-6.037L256 313.505l-57.505 57.505q-6.037\n      6.037-14.297 6.037-8.578 0-14.615-6.037l-28.593-28.593q-6.037-6.037-6.037-14.615 0-8.26 6.037-14.297L198.495\n      256l-57.505-57.505q-6.037-6.037-6.037-14.297 0-8.578 6.037-14.615l28.593-28.593q6.037-6.037 14.615-6.037 8.26 0\n      14.297 6.037L256 198.495l57.505-57.505q6.037-6.037 14.297-6.037 8.578 0 14.615 6.037l28.593 28.593q6.037 6.037\n      6.037 14.615zM500 256q0-66.401-32.724-122.477-32.724-56.075-88.799-88.799Q322.401 12 256 12q-66.401 0-122.477\n      32.724-56.075 32.724-88.799 88.799Q12 189.599 12 256q0 66.401 32.724 122.477 32.724 56.075 88.799 88.799Q189.599\n      500 256 500q66.401 0 122.477-32.724 56.075-32.724 88.799-88.799Q500 322.401 500 256z\"></path>\n  </svg>";

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var /** @type {?} */ translateInOut = trigger('transition', [
    state('*', style({ transform: 'translateY(0)' })),
    state('void', style({ transform: 'translateY(0)' })),
    state('bottomOut', style({ transform: 'translateY(100%)' })),
    state('topOut', style({ transform: 'translateY(-100%)' })),
    transition('void => topIn', [
        style({ transform: 'translateY(-100%)' }),
        animate('1000ms ease-in-out')
    ]),
    transition('void => bottomIn', [
        style({ transform: 'translateY(100%)' }),
        animate('1000ms ease-in-out')
    ]),
    transition('* => *', animate('1000ms ease-out'))
]);

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var CookieLawComponent = /** @class */ (function () {
    function CookieLawComponent(domSanitizer) {
        this.domSanitizer = domSanitizer;
        this.isSeen = new EventEmitter();
        this.transition = 'bottomIn';
        this._position = 'bottom';
        this.cookieLawClass = true;
    }
    Object.defineProperty(CookieLawComponent.prototype, "learnMore", {
        get: /**
         * @return {?}
         */
        function () {
            return this._learnMore;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._learnMore = value !== null && "" + value !== 'false' ? value : null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CookieLawComponent.prototype, "awsomeCloseIcon", {
        get: /**
         * @return {?}
         */
        function () {
            return this._awsomeCloseIcon;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._awsomeCloseIcon =
                value !== null && "" + value !== 'false' ? value : null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CookieLawComponent.prototype, "target", {
        get: /**
         * @return {?}
         */
        function () {
            return this._target;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._target =
                value !== null &&
                    "" + value !== 'false' &&
                    ("" + value === '_blank' || "" + value === '_self')
                    ? value
                    : '_blank';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CookieLawComponent.prototype, "position", {
        get: /**
         * @return {?}
         */
        function () {
            return this._position;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._position =
                value !== null &&
                    "" + value !== 'false' &&
                    ("" + value === 'top' || "" + value === 'bottom')
                    ? value
                    : 'bottom';
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    CookieLawComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.noopener = this._target === '_blank';
        this.transition = this.position === 'bottom' ? 'bottomIn' : 'topIn';
        if (this._awsomeCloseIcon) {
            this.closeSvg = this.domSanitizer.bypassSecurityTrustHtml("<i class=\"fab " + this._awsomeCloseIcon + "\"></i>");
        }
        else {
            this.closeSvg = this.domSanitizer.bypassSecurityTrustHtml(closeIcon);
        }
        this.currentStyles = {
            top: this.position === 'top' ? '0' : null,
            bottom: this.position === 'top' ? 'initial' : null
        };
    };
    /**
     * @param {?} evt
     * @return {?}
     */
    CookieLawComponent.prototype.afterDismissAnimation = /**
     * @param {?} evt
     * @return {?}
     */
    function (evt) {
        if (evt.toState === 'topOut' || evt.toState === 'bottomOut') {
            this.isSeen.emit(true);
        }
    };
    /**
     * @param {?=} evt
     * @return {?}
     */
    CookieLawComponent.prototype.dismiss = /**
     * @param {?=} evt
     * @return {?}
     */
    function (evt) {
        if (evt) {
            evt.preventDefault();
        }
        this.transition = this.position === 'top' ? 'topOut' : 'bottomOut';
    };
    CookieLawComponent.decorators = [
        { type: Component, args: [{
                    selector: 'cookie-law-component',
                    template: "<div\n  class=\"cookie-law-wrapper\"\n  [ngStyle]=\"currentStyles\"\n  [@transition]=\"transition\"\n  (@transition.done)=\"afterDismissAnimation($event)\"\n>\n  <div class=\"copy\">\n    <span #ref><ng-content></ng-content></span>\n\n    <span *ngIf=\"ref.childNodes.length == 0\">\n      By continuing to browse the site, you're agreeing to our use of cookies.\n      <span *ngIf=\"learnMore\">\n        Learn more in our\n        <a [href]=\"learnMore\" [target]=\"target\" [rel]=\"noopener ? 'noopener noreferrer' : null\"\n          >privacy policy</a\n        >.\n      </span>\n    </span>\n\n    <a\n      href=\"#\"\n      role=\"button\"\n      class=\"dismiss\"\n      [innerHTML]=\"closeSvg\"\n      (click)=\"dismiss($event)\"\n      [attr.aria-label]=\"closeSvg\"\n    ></a>\n  </div>\n</div>\n",
                    styles: [".cookie-law-wrapper{background:#333;color:#bbb;display:block;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:15px;font-weight:200;line-height:20px;position:fixed;bottom:0;left:0;width:100%;z-index:999999999;font-smooth:always;-webkit-font-smoothing:antialiased}.cookie-law-wrapper a{color:#bbb;transition:color .2s}.cookie-law-wrapper a:hover{color:#fff}.cookie-law-wrapper a:hover svg{fill:#fff}.cookie-law-wrapper .dismiss{display:block;box-sizing:border-box;padding:10px;position:absolute;top:0;right:10px;text-decoration:none;line-height:20px}.cookie-law-wrapper .dismiss svg{display:block;fill:#bbb;width:20px;height:20px;transition:fill .2s}.cookie-law-wrapper .copy{box-sizing:border-box;padding:10px 60px 10px 10px}.cookie-law-wrapper .copy span{color:#fff;font-weight:400}.cookie-law-wrapper .copy a{text-decoration:underline}.cookie-law-wrapper .copy a:active,.copy a:hover{outline:0}@media (min-width:600px){.cookie-law-wrapper .copy{padding:20px 60px 20px 20px;font-size:18px;line-height:24px}.cookie-law-wrapper .dismiss{top:10px;right:15px}.cookie-law-wrapper .dismiss svg{width:24px;height:24px}}"],
                    animations: [translateInOut],
                    encapsulation: ViewEncapsulation.None
                },] },
    ];
    /** @nocollapse */
    CookieLawComponent.ctorParameters = function () { return [
        { type: DomSanitizer, },
    ]; };
    CookieLawComponent.propDecorators = {
        "cookieLawClass": [{ type: HostBinding, args: ['class.cookie-law',] },],
        "learnMore": [{ type: Input },],
        "awsomeCloseIcon": [{ type: Input },],
        "target": [{ type: Input },],
        "position": [{ type: Input },],
        "isSeen": [{ type: Output },],
    };
    return CookieLawComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var CookieLawContainerComponent = /** @class */ (function () {
    function CookieLawContainerComponent(cookieLawService) {
        this.cookieLawService = cookieLawService;
        this.isSeen = new EventEmitter();
        this.name = 'cookieLawSeen'; // set a default cookie name if not provided
        this.seen = true;
    }
    Object.defineProperty(CookieLawContainerComponent.prototype, "cookieLawSeen", {
        get: /**
         * @return {?}
         */
        function () {
            return this.cookieLawService.seen(this.name);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    CookieLawContainerComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.seen = this.cookieLawService.seen(this.name);
    };
    /**
     * @return {?}
     */
    CookieLawContainerComponent.prototype.hasBeenDismissed = /**
     * @return {?}
     */
    function () {
        this.cookieLawService.storeCookie(this.name, this.expiration);
        this.seen = true;
        this.isSeen.emit(true);
    };
    /**
     * @return {?}
     */
    CookieLawContainerComponent.prototype.dismiss = /**
     * @return {?}
     */
    function () {
        this.cookieLawComponent.dismiss();
    };
    CookieLawContainerComponent.decorators = [
        { type: Component, args: [{
                    selector: 'cookie-law',
                    template: "\n    <cookie-law-component\n      *ngIf=\"!seen\"\n      [awsomeCloseIcon]=\"awsomeCloseIcon\"\n      [learnMore]=\"learnMore\"\n      [target]=\"target\"\n      [position]=\"position\"\n      (isSeen)=\"hasBeenDismissed()\"\n    >\n      <ng-content></ng-content>\n    </cookie-law-component>\n  "
                },] },
    ];
    /** @nocollapse */
    CookieLawContainerComponent.ctorParameters = function () { return [
        { type: Angular2CookieLawService, },
    ]; };
    CookieLawContainerComponent.propDecorators = {
        "seen": [{ type: HostBinding, args: ['attr.seen',] },],
        "cookieLawComponent": [{ type: ViewChild, args: [CookieLawComponent,] },],
        "name": [{ type: Input },],
        "learnMore": [{ type: Input },],
        "target": [{ type: Input },],
        "position": [{ type: Input },],
        "expiration": [{ type: Input },],
        "awsomeCloseIcon": [{ type: Input },],
        "isSeen": [{ type: Output },],
    };
    return CookieLawContainerComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var CookieLawModule = /** @class */ (function () {
    function CookieLawModule(parentModule) {
        if (parentModule) {
            throw new Error('CookieLawModule is already loaded. Import it in the AppModule only');
        }
    }
    CookieLawModule.decorators = [
        { type: NgModule, args: [{
                    imports: [CommonModule],
                    declarations: [CookieLawComponent, CookieLawContainerComponent],
                    exports: [CookieLawContainerComponent]
                },] },
    ];
    /** @nocollapse */
    CookieLawModule.ctorParameters = function () { return [
        { type: CookieLawModule, decorators: [{ type: Optional }, { type: SkipSelf },] },
    ]; };
    return CookieLawModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

export { Angular2CookieLawService, CookieLawContainerComponent, CookieLawComponent, CookieLawModule, translateInOut as ɵa };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcjItY29va2llLWxhdy5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vYW5ndWxhcjItY29va2llLWxhdy9saWIvYW5ndWxhcjItY29va2llLWxhdy5zZXJ2aWNlLnRzIiwibmc6Ly9hbmd1bGFyMi1jb29raWUtbGF3L2xpYi9pY29ucy50cyIsIm5nOi8vYW5ndWxhcjItY29va2llLWxhdy9saWIvYW5pbWF0aW9ucy50cyIsIm5nOi8vYW5ndWxhcjItY29va2llLWxhdy9saWIvYW5ndWxhcjItY29va2llLWxhdy5jb21wb25lbnQudHMiLCJuZzovL2FuZ3VsYXIyLWNvb2tpZS1sYXcvbGliL2FuZ3VsYXIyLWNvb2tpZS1sYXctY29udGFpbmVyLmNvbXBvbmVudC50cyIsIm5nOi8vYW5ndWxhcjItY29va2llLWxhdy9saWIvYW5ndWxhcjItY29va2llLWxhdy5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBhbmd1bGFyMi1jb29raWUtbGF3XG4gKlxuICogQ29weXJpZ2h0IDIwMTYtMjAxOCwgQGFuZHJlYXNvbm55ODMsIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvcjogQGFuZHJlYXNvbm55ODMgPGFuZHJlYXNvbm55ODNAZ21haWwuY29tPlxuICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgUExBVEZPUk1fSUQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IERPQ1VNRU5ULCBpc1BsYXRmb3JtQnJvd3NlciB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIEFuZ3VsYXIyQ29va2llTGF3U2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIEBJbmplY3QoRE9DVU1FTlQpIHByaXZhdGUgZG9jOiBhbnksXG4gICAgQEluamVjdChQTEFURk9STV9JRCkgcHJpdmF0ZSBwbGF0Zm9ybTogT2JqZWN0XG4gICkge31cblxuICBwdWJsaWMgc2Vlbihjb29raWVOYW1lOiBzdHJpbmcgPSAnY29va2llTGF3U2VlbicpOiBib29sZWFuIHtcbiAgICBsZXQgY29va2llczogQXJyYXk8c3RyaW5nPiA9IFtdO1xuXG4gICAgaWYgKGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm0pKSB7XG4gICAgICBjb29raWVzID0gdGhpcy5kb2MuY29va2llLnNwbGl0KCc7Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29va2llRXhpc2l0cyhjb29raWVOYW1lLCBjb29raWVzKTtcbiAgfVxuXG4gIHB1YmxpYyBzdG9yZUNvb2tpZShjb29raWVOYW1lOiBzdHJpbmcsIGV4cGlyYXRpb24/OiBudW1iZXIpOiB2b2lkIHtcbiAgICByZXR1cm4gdGhpcy5zZXRDb29raWUoY29va2llTmFtZSwgZXhwaXJhdGlvbik7XG4gIH1cblxuICBwcml2YXRlIGNvb2tpZUV4aXNpdHMobmFtZTogc3RyaW5nLCBjb29raWVzOiBBcnJheTxzdHJpbmc+KTogYm9vbGVhbiB7XG4gICAgY29uc3QgY29va2llTmFtZSA9IGAke25hbWV9PWA7XG5cbiAgICByZXR1cm4gY29va2llcy5yZWR1Y2UoXG4gICAgICAocHJldiwgY3VycikgPT4gcHJldiB8fCBjdXJyLnRyaW0oKS5zZWFyY2goY29va2llTmFtZSkgPiAtMSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0Q29va2llKG5hbWU6IHN0cmluZywgZXhwaXJhdGlvbj86IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IG5vdzogRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgZXhwOiBEYXRlID0gbmV3IERhdGUobm93LmdldFRpbWUoKSArIGV4cGlyYXRpb24gKiA4NjQwMDAwMCk7XG5cbiAgICBjb25zdCBjb29raWVTdHJpbmcgPVxuICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpICsgYD10cnVlO3BhdGg9LztleHBpcmVzPSR7ZXhwLnRvVVRDU3RyaW5nKCl9O2A7XG5cbiAgICBpZiAoaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybSkpIHtcbiAgICAgIHRoaXMuZG9jLmNvb2tpZSA9IGNvb2tpZVN0cmluZztcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogYW5ndWxhcjItY29va2llLWxhd1xuICpcbiAqIENvcHlyaWdodCAyMDE2LTIwMTgsIEBhbmRyZWFzb25ueTgzLCBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIEBhdXRob3I6IEBhbmRyZWFzb25ueTgzIDxhbmRyZWFzb25ueTgzQGdtYWlsLmNvbT5cbiAqL1xuXG5leHBvcnQgY29uc3QgY2xvc2VJY29uID0gYFxuICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIj5cbiAgICA8cGF0aCBkPVwiTTM3Ny4wNDcgMTg0LjE5OHEwIDguMjYtNi4wMzcgMTQuMjk3TDMxMy41MDUgMjU2bDU3LjUwNSA1Ny41MDVxNi4wMzcgNi4wMzcgNi4wMzcgMTQuMjk3IDAgOC41NzgtNi4wMzdcbiAgICAgIDE0LjYxNWwtMjguNTkzIDI4LjU5M3EtNi4wMzcgNi4wMzctMTQuNjE1IDYuMDM3LTguMjYgMC0xNC4yOTctNi4wMzdMMjU2IDMxMy41MDVsLTU3LjUwNSA1Ny41MDVxLTYuMDM3XG4gICAgICA2LjAzNy0xNC4yOTcgNi4wMzctOC41NzggMC0xNC42MTUtNi4wMzdsLTI4LjU5My0yOC41OTNxLTYuMDM3LTYuMDM3LTYuMDM3LTE0LjYxNSAwLTguMjYgNi4wMzctMTQuMjk3TDE5OC40OTVcbiAgICAgIDI1NmwtNTcuNTA1LTU3LjUwNXEtNi4wMzctNi4wMzctNi4wMzctMTQuMjk3IDAtOC41NzggNi4wMzctMTQuNjE1bDI4LjU5My0yOC41OTNxNi4wMzctNi4wMzcgMTQuNjE1LTYuMDM3IDguMjYgMFxuICAgICAgMTQuMjk3IDYuMDM3TDI1NiAxOTguNDk1bDU3LjUwNS01Ny41MDVxNi4wMzctNi4wMzcgMTQuMjk3LTYuMDM3IDguNTc4IDAgMTQuNjE1IDYuMDM3bDI4LjU5MyAyOC41OTNxNi4wMzcgNi4wMzdcbiAgICAgIDYuMDM3IDE0LjYxNXpNNTAwIDI1NnEwLTY2LjQwMS0zMi43MjQtMTIyLjQ3Ny0zMi43MjQtNTYuMDc1LTg4Ljc5OS04OC43OTlRMzIyLjQwMSAxMiAyNTYgMTJxLTY2LjQwMSAwLTEyMi40NzdcbiAgICAgIDMyLjcyNC01Ni4wNzUgMzIuNzI0LTg4Ljc5OSA4OC43OTlRMTIgMTg5LjU5OSAxMiAyNTZxMCA2Ni40MDEgMzIuNzI0IDEyMi40NzcgMzIuNzI0IDU2LjA3NSA4OC43OTkgODguNzk5UTE4OS41OTlcbiAgICAgIDUwMCAyNTYgNTAwcTY2LjQwMSAwIDEyMi40NzctMzIuNzI0IDU2LjA3NS0zMi43MjQgODguNzk5LTg4Ljc5OVE1MDAgMzIyLjQwMSA1MDAgMjU2elwiPjwvcGF0aD5cbiAgPC9zdmc+YDtcbiIsIi8qKlxuICogYW5ndWxhcjItY29va2llLWxhd1xuICpcbiAqIENvcHlyaWdodCAyMDE2LTIwMTgsIEBhbmRyZWFzb25ueTgzLCBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIEBhdXRob3I6IEBhbmRyZWFzb25ueTgzIDxhbmRyZWFzb25ueTgzQGdtYWlsLmNvbT5cbiAqL1xuXG5pbXBvcnQge1xuICB0cmlnZ2VyLFxuICBzdGF0ZSxcbiAgc3R5bGUsXG4gIGFuaW1hdGUsXG4gIHRyYW5zaXRpb24sXG4gIEFuaW1hdGlvblRyaWdnZXJNZXRhZGF0YVxufSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJztcblxuZXhwb3J0IGNvbnN0IHRyYW5zbGF0ZUluT3V0OiBBbmltYXRpb25UcmlnZ2VyTWV0YWRhdGEgPSB0cmlnZ2VyKCd0cmFuc2l0aW9uJywgW1xuICBzdGF0ZSgnKicsIHN0eWxlKHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwKScgfSkpLFxuICBzdGF0ZSgndm9pZCcsIHN0eWxlKHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwKScgfSkpLFxuXG4gIHN0YXRlKCdib3R0b21PdXQnLCBzdHlsZSh7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMTAwJSknIH0pKSxcbiAgc3RhdGUoJ3RvcE91dCcsIHN0eWxlKHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtMTAwJSknIH0pKSxcblxuICB0cmFuc2l0aW9uKCd2b2lkID0+IHRvcEluJywgW1xuICAgIHN0eWxlKHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtMTAwJSknIH0pLFxuICAgIGFuaW1hdGUoJzEwMDBtcyBlYXNlLWluLW91dCcpXG4gIF0pLFxuXG4gIHRyYW5zaXRpb24oJ3ZvaWQgPT4gYm90dG9tSW4nLCBbXG4gICAgc3R5bGUoeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDEwMCUpJyB9KSxcbiAgICBhbmltYXRlKCcxMDAwbXMgZWFzZS1pbi1vdXQnKVxuICBdKSxcblxuICB0cmFuc2l0aW9uKCcqID0+IConLCBhbmltYXRlKCcxMDAwbXMgZWFzZS1vdXQnKSlcbl0pO1xuIiwiLyoqXG4gKiBhbmd1bGFyMi1jb29raWUtbGF3XG4gKlxuICogQ29weXJpZ2h0IDIwMTYtMjAxOCwgQGFuZHJlYXNvbm55ODMsIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvcjogQGFuZHJlYXNvbm55ODMgPGFuZHJlYXNvbm55ODNAZ21haWwuY29tPlxuICovXG5cbmltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgT25Jbml0LFxuICBIb3N0QmluZGluZyxcbiAgVmlld0VuY2Fwc3VsYXRpb24sXG4gIElucHV0LFxuICBPdXRwdXQsXG4gIEV2ZW50RW1pdHRlclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IERvbVNhbml0aXplciwgU2FmZUh0bWwgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcbmltcG9ydCB7IEFuaW1hdGlvbkV2ZW50IH0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XG5pbXBvcnQgeyBjbG9zZUljb24gfSBmcm9tICcuL2ljb25zJztcbmltcG9ydCB7IHRyYW5zbGF0ZUluT3V0IH0gZnJvbSAnLi9hbmltYXRpb25zJztcbmltcG9ydCB7XG4gIENvb2tpZUxhd0FuaW1hdGlvbixcbiAgQ29va2llTGF3VGFyZ2V0LFxuICBDb29raWVMYXdQb3NpdGlvblxufSBmcm9tICcuL2RlZmluaXRpb25zJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY29va2llLWxhdy1jb21wb25lbnQnLFxuICB0ZW1wbGF0ZTogYDxkaXZcbiAgY2xhc3M9XCJjb29raWUtbGF3LXdyYXBwZXJcIlxuICBbbmdTdHlsZV09XCJjdXJyZW50U3R5bGVzXCJcbiAgW0B0cmFuc2l0aW9uXT1cInRyYW5zaXRpb25cIlxuICAoQHRyYW5zaXRpb24uZG9uZSk9XCJhZnRlckRpc21pc3NBbmltYXRpb24oJGV2ZW50KVwiXG4+XG4gIDxkaXYgY2xhc3M9XCJjb3B5XCI+XG4gICAgPHNwYW4gI3JlZj48bmctY29udGVudD48L25nLWNvbnRlbnQ+PC9zcGFuPlxuXG4gICAgPHNwYW4gKm5nSWY9XCJyZWYuY2hpbGROb2Rlcy5sZW5ndGggPT0gMFwiPlxuICAgICAgQnkgY29udGludWluZyB0byBicm93c2UgdGhlIHNpdGUsIHlvdSdyZSBhZ3JlZWluZyB0byBvdXIgdXNlIG9mIGNvb2tpZXMuXG4gICAgICA8c3BhbiAqbmdJZj1cImxlYXJuTW9yZVwiPlxuICAgICAgICBMZWFybiBtb3JlIGluIG91clxuICAgICAgICA8YSBbaHJlZl09XCJsZWFybk1vcmVcIiBbdGFyZ2V0XT1cInRhcmdldFwiIFtyZWxdPVwibm9vcGVuZXIgPyAnbm9vcGVuZXIgbm9yZWZlcnJlcicgOiBudWxsXCJcbiAgICAgICAgICA+cHJpdmFjeSBwb2xpY3k8L2FcbiAgICAgICAgPi5cbiAgICAgIDwvc3Bhbj5cbiAgICA8L3NwYW4+XG5cbiAgICA8YVxuICAgICAgaHJlZj1cIiNcIlxuICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICBjbGFzcz1cImRpc21pc3NcIlxuICAgICAgW2lubmVySFRNTF09XCJjbG9zZVN2Z1wiXG4gICAgICAoY2xpY2spPVwiZGlzbWlzcygkZXZlbnQpXCJcbiAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiY2xvc2VTdmdcIlxuICAgID48L2E+XG4gIDwvZGl2PlxuPC9kaXY+XG5gLFxuICBzdHlsZXM6IFtgLmNvb2tpZS1sYXctd3JhcHBlcntiYWNrZ3JvdW5kOiMzMzM7Y29sb3I6I2JiYjtkaXNwbGF5OmJsb2NrO2ZvbnQtZmFtaWx5OkhlbHZldGljYSBOZXVlLEhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtc2l6ZToxNXB4O2ZvbnQtd2VpZ2h0OjIwMDtsaW5lLWhlaWdodDoyMHB4O3Bvc2l0aW9uOmZpeGVkO2JvdHRvbTowO2xlZnQ6MDt3aWR0aDoxMDAlO3otaW5kZXg6OTk5OTk5OTk5O2ZvbnQtc21vb3RoOmFsd2F5czstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkfS5jb29raWUtbGF3LXdyYXBwZXIgYXtjb2xvcjojYmJiO3RyYW5zaXRpb246Y29sb3IgLjJzfS5jb29raWUtbGF3LXdyYXBwZXIgYTpob3Zlcntjb2xvcjojZmZmfS5jb29raWUtbGF3LXdyYXBwZXIgYTpob3ZlciBzdmd7ZmlsbDojZmZmfS5jb29raWUtbGF3LXdyYXBwZXIgLmRpc21pc3N7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7cGFkZGluZzoxMHB4O3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3JpZ2h0OjEwcHg7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6MjBweH0uY29va2llLWxhdy13cmFwcGVyIC5kaXNtaXNzIHN2Z3tkaXNwbGF5OmJsb2NrO2ZpbGw6I2JiYjt3aWR0aDoyMHB4O2hlaWdodDoyMHB4O3RyYW5zaXRpb246ZmlsbCAuMnN9LmNvb2tpZS1sYXctd3JhcHBlciAuY29weXtib3gtc2l6aW5nOmJvcmRlci1ib3g7cGFkZGluZzoxMHB4IDYwcHggMTBweCAxMHB4fS5jb29raWUtbGF3LXdyYXBwZXIgLmNvcHkgc3Bhbntjb2xvcjojZmZmO2ZvbnQtd2VpZ2h0OjQwMH0uY29va2llLWxhdy13cmFwcGVyIC5jb3B5IGF7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZX0uY29va2llLWxhdy13cmFwcGVyIC5jb3B5IGE6YWN0aXZlLC5jb3B5IGE6aG92ZXJ7b3V0bGluZTowfUBtZWRpYSAobWluLXdpZHRoOjYwMHB4KXsuY29va2llLWxhdy13cmFwcGVyIC5jb3B5e3BhZGRpbmc6MjBweCA2MHB4IDIwcHggMjBweDtmb250LXNpemU6MThweDtsaW5lLWhlaWdodDoyNHB4fS5jb29raWUtbGF3LXdyYXBwZXIgLmRpc21pc3N7dG9wOjEwcHg7cmlnaHQ6MTVweH0uY29va2llLWxhdy13cmFwcGVyIC5kaXNtaXNzIHN2Z3t3aWR0aDoyNHB4O2hlaWdodDoyNHB4fX1gXSxcbiAgYW5pbWF0aW9uczogW3RyYW5zbGF0ZUluT3V0XSxcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBDb29raWVMYXdDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBwdWJsaWMgY2xvc2VTdmc6IFNhZmVIdG1sO1xuICBwdWJsaWMgY3VycmVudFN0eWxlczogYW55O1xuICBwdWJsaWMgdHJhbnNpdGlvbjogQ29va2llTGF3QW5pbWF0aW9uO1xuXG4gIEBIb3N0QmluZGluZygnY2xhc3MuY29va2llLWxhdycpXG4gIHB1YmxpYyBjb29raWVMYXdDbGFzczogYm9vbGVhbjtcblxuICBASW5wdXQoKVxuICBnZXQgbGVhcm5Nb3JlKCkge1xuICAgIHJldHVybiB0aGlzLl9sZWFybk1vcmU7XG4gIH1cbiAgc2V0IGxlYXJuTW9yZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fbGVhcm5Nb3JlID0gdmFsdWUgIT09IG51bGwgJiYgYCR7dmFsdWV9YCAhPT0gJ2ZhbHNlJyA/IHZhbHVlIDogbnVsbDtcbiAgfVxuXG4gIEBJbnB1dCgpXG4gIGdldCBhd3NvbWVDbG9zZUljb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2F3c29tZUNsb3NlSWNvbjtcbiAgfVxuICBzZXQgYXdzb21lQ2xvc2VJY29uKHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9hd3NvbWVDbG9zZUljb24gPVxuICAgICAgdmFsdWUgIT09IG51bGwgJiYgYCR7dmFsdWV9YCAhPT0gJ2ZhbHNlJyA/IHZhbHVlIDogbnVsbDtcbiAgfVxuXG4gIEBJbnB1dCgpXG4gIGdldCB0YXJnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RhcmdldDtcbiAgfVxuICBzZXQgdGFyZ2V0KHZhbHVlOiBDb29raWVMYXdUYXJnZXQpIHtcbiAgICB0aGlzLl90YXJnZXQgPVxuICAgICAgdmFsdWUgIT09IG51bGwgJiZcbiAgICAgIGAke3ZhbHVlfWAgIT09ICdmYWxzZScgJiZcbiAgICAgIChgJHt2YWx1ZX1gID09PSAnX2JsYW5rJyB8fCBgJHt2YWx1ZX1gID09PSAnX3NlbGYnKVxuICAgICAgICA/IHZhbHVlXG4gICAgICAgIDogJ19ibGFuayc7XG4gIH1cblxuICBASW5wdXQoKVxuICBnZXQgcG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xuICB9XG4gIHNldCBwb3NpdGlvbih2YWx1ZTogQ29va2llTGF3UG9zaXRpb24pIHtcbiAgICB0aGlzLl9wb3NpdGlvbiA9XG4gICAgICB2YWx1ZSAhPT0gbnVsbCAmJlxuICAgICAgYCR7dmFsdWV9YCAhPT0gJ2ZhbHNlJyAmJlxuICAgICAgKGAke3ZhbHVlfWAgPT09ICd0b3AnIHx8IGAke3ZhbHVlfWAgPT09ICdib3R0b20nKVxuICAgICAgICA/IHZhbHVlXG4gICAgICAgIDogJ2JvdHRvbSc7XG4gIH1cblxuICBAT3V0cHV0KClcbiAgcHVibGljIGlzU2VlbiA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcblxuICBwdWJsaWMgbm9vcGVuZXI6IGJvb2xlYW47XG5cbiAgcHJpdmF0ZSBfbGVhcm5Nb3JlOiBzdHJpbmc7XG4gIHByaXZhdGUgX2F3c29tZUNsb3NlSWNvbjogc3RyaW5nO1xuICBwcml2YXRlIF90YXJnZXQ6IENvb2tpZUxhd1RhcmdldDtcbiAgcHJpdmF0ZSBfcG9zaXRpb246IENvb2tpZUxhd1Bvc2l0aW9uO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZG9tU2FuaXRpemVyOiBEb21TYW5pdGl6ZXIpIHtcbiAgICB0aGlzLnRyYW5zaXRpb24gPSAnYm90dG9tSW4nO1xuICAgIHRoaXMuX3Bvc2l0aW9uID0gJ2JvdHRvbSc7XG4gICAgdGhpcy5jb29raWVMYXdDbGFzcyA9IHRydWU7XG4gIH1cblxuICBwdWJsaWMgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5ub29wZW5lciA9IHRoaXMuX3RhcmdldCA9PT0gJ19ibGFuayc7XG4gICAgdGhpcy50cmFuc2l0aW9uID0gdGhpcy5wb3NpdGlvbiA9PT0gJ2JvdHRvbScgPyAnYm90dG9tSW4nIDogJ3RvcEluJztcblxuICAgIGlmICh0aGlzLl9hd3NvbWVDbG9zZUljb24pIHtcbiAgICAgIHRoaXMuY2xvc2VTdmcgPSB0aGlzLmRvbVNhbml0aXplci5ieXBhc3NTZWN1cml0eVRydXN0SHRtbChcbiAgICAgICAgYDxpIGNsYXNzPVwiZmFiICR7dGhpcy5fYXdzb21lQ2xvc2VJY29ufVwiPjwvaT5gXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsb3NlU3ZnID0gdGhpcy5kb21TYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdEh0bWwoY2xvc2VJY29uKTtcbiAgICB9XG5cbiAgICB0aGlzLmN1cnJlbnRTdHlsZXMgPSB7XG4gICAgICB0b3A6IHRoaXMucG9zaXRpb24gPT09ICd0b3AnID8gJzAnIDogbnVsbCxcbiAgICAgIGJvdHRvbTogdGhpcy5wb3NpdGlvbiA9PT0gJ3RvcCcgPyAnaW5pdGlhbCcgOiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBhZnRlckRpc21pc3NBbmltYXRpb24oZXZ0OiBBbmltYXRpb25FdmVudCk6IHZvaWQge1xuICAgIGlmIChldnQudG9TdGF0ZSA9PT0gJ3RvcE91dCcgfHwgZXZ0LnRvU3RhdGUgPT09ICdib3R0b21PdXQnKSB7XG4gICAgICB0aGlzLmlzU2Vlbi5lbWl0KHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBkaXNtaXNzKGV2dD86IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZ0KSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICB0aGlzLnRyYW5zaXRpb24gPSB0aGlzLnBvc2l0aW9uID09PSAndG9wJyA/ICd0b3BPdXQnIDogJ2JvdHRvbU91dCc7XG4gIH1cbn1cbiIsIi8qKlxuICogYW5ndWxhcjItY29va2llLWxhd1xuICpcbiAqIENvcHlyaWdodCAyMDE2LTIwMTgsIEBhbmRyZWFzb25ueTgzLCBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIEBhdXRob3I6IEBhbmRyZWFzb25ueTgzIDxhbmRyZWFzb25ueTgzQGdtYWlsLmNvbT5cbiAqL1xuXG5pbXBvcnQge1xuICBDb21wb25lbnQsXG4gIE9uSW5pdCxcbiAgVmlld0NoaWxkLFxuICBIb3N0QmluZGluZyxcbiAgSW5wdXQsXG4gIE91dHB1dCxcbiAgRXZlbnRFbWl0dGVyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBBbmd1bGFyMkNvb2tpZUxhd1NlcnZpY2UgfSBmcm9tICcuL2FuZ3VsYXIyLWNvb2tpZS1sYXcuc2VydmljZSc7XG5pbXBvcnQgeyBDb29raWVMYXdDb21wb25lbnQgfSBmcm9tICcuL2FuZ3VsYXIyLWNvb2tpZS1sYXcuY29tcG9uZW50JztcbmltcG9ydCB7IENvb2tpZUxhd1RhcmdldCwgQ29va2llTGF3UG9zaXRpb24gfSBmcm9tICcuL2RlZmluaXRpb25zJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY29va2llLWxhdycsXG4gIHRlbXBsYXRlOiBgXG4gICAgPGNvb2tpZS1sYXctY29tcG9uZW50XG4gICAgICAqbmdJZj1cIiFzZWVuXCJcbiAgICAgIFthd3NvbWVDbG9zZUljb25dPVwiYXdzb21lQ2xvc2VJY29uXCJcbiAgICAgIFtsZWFybk1vcmVdPVwibGVhcm5Nb3JlXCJcbiAgICAgIFt0YXJnZXRdPVwidGFyZ2V0XCJcbiAgICAgIFtwb3NpdGlvbl09XCJwb3NpdGlvblwiXG4gICAgICAoaXNTZWVuKT1cImhhc0JlZW5EaXNtaXNzZWQoKVwiXG4gICAgPlxuICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuICAgIDwvY29va2llLWxhdy1jb21wb25lbnQ+XG4gIGBcbn0pXG5leHBvcnQgY2xhc3MgQ29va2llTGF3Q29udGFpbmVyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQEhvc3RCaW5kaW5nKCdhdHRyLnNlZW4nKVxuICBwdWJsaWMgc2VlbjogYm9vbGVhbjtcblxuICBAVmlld0NoaWxkKENvb2tpZUxhd0NvbXBvbmVudClcbiAgcHVibGljIGNvb2tpZUxhd0NvbXBvbmVudDogQ29va2llTGF3Q29tcG9uZW50O1xuXG4gIEBJbnB1dCgpXG4gIHB1YmxpYyBuYW1lOiBzdHJpbmc7XG5cbiAgQElucHV0KClcbiAgcHVibGljIGxlYXJuTW9yZTogc3RyaW5nO1xuXG4gIEBJbnB1dCgpXG4gIHB1YmxpYyB0YXJnZXQ6IENvb2tpZUxhd1RhcmdldDtcblxuICBASW5wdXQoKVxuICBwdWJsaWMgcG9zaXRpb246IENvb2tpZUxhd1Bvc2l0aW9uO1xuXG4gIEBJbnB1dCgpXG4gIHB1YmxpYyBleHBpcmF0aW9uOiBudW1iZXI7XG5cbiAgQElucHV0KClcbiAgcHVibGljIGF3c29tZUNsb3NlSWNvbjogc3RyaW5nO1xuXG4gIEBPdXRwdXQoKVxuICBwdWJsaWMgaXNTZWVuID0gbmV3IEV2ZW50RW1pdHRlcjxib29sZWFuPigpO1xuXG4gIHB1YmxpYyBnZXQgY29va2llTGF3U2VlbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb29raWVMYXdTZXJ2aWNlLnNlZW4odGhpcy5uYW1lKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY29va2llTGF3U2VydmljZTogQW5ndWxhcjJDb29raWVMYXdTZXJ2aWNlKSB7XG4gICAgdGhpcy5uYW1lID0gJ2Nvb2tpZUxhd1NlZW4nOyAvLyBzZXQgYSBkZWZhdWx0IGNvb2tpZSBuYW1lIGlmIG5vdCBwcm92aWRlZFxuICAgIHRoaXMuc2VlbiA9IHRydWU7XG4gIH1cblxuICBwdWJsaWMgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5zZWVuID0gdGhpcy5jb29raWVMYXdTZXJ2aWNlLnNlZW4odGhpcy5uYW1lKTtcbiAgfVxuXG4gIHB1YmxpYyBoYXNCZWVuRGlzbWlzc2VkKCk6IHZvaWQge1xuICAgIHRoaXMuY29va2llTGF3U2VydmljZS5zdG9yZUNvb2tpZSh0aGlzLm5hbWUsIHRoaXMuZXhwaXJhdGlvbik7XG4gICAgdGhpcy5zZWVuID0gdHJ1ZTtcbiAgICB0aGlzLmlzU2Vlbi5lbWl0KHRydWUpO1xuICB9XG5cbiAgcHVibGljIGRpc21pc3MoKTogdm9pZCB7XG4gICAgdGhpcy5jb29raWVMYXdDb21wb25lbnQuZGlzbWlzcygpO1xuICB9XG59XG4iLCIvKipcbiAqIGFuZ3VsYXIyLWNvb2tpZS1sYXdcbiAqXG4gKiBDb3B5cmlnaHQgMjAxNi0yMDE4LCBAYW5kcmVhc29ubnk4MywgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yOiBAYW5kcmVhc29ubnk4MyA8YW5kcmVhc29ubnk4M0BnbWFpbC5jb20+XG4gKi9cblxuaW1wb3J0IHtcbiAgTmdNb2R1bGUsXG4gIE9wdGlvbmFsLFxuICBTa2lwU2VsZixcbiAgTW9kdWxlV2l0aFByb3ZpZGVyc1xufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cbmltcG9ydCB7IENvb2tpZUxhd0NvbXBvbmVudCB9IGZyb20gJy4vYW5ndWxhcjItY29va2llLWxhdy5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ29va2llTGF3Q29udGFpbmVyQ29tcG9uZW50IH0gZnJvbSAnLi9hbmd1bGFyMi1jb29raWUtbGF3LWNvbnRhaW5lci5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlXSxcbiAgZGVjbGFyYXRpb25zOiBbQ29va2llTGF3Q29tcG9uZW50LCBDb29raWVMYXdDb250YWluZXJDb21wb25lbnRdLFxuICBleHBvcnRzOiBbQ29va2llTGF3Q29udGFpbmVyQ29tcG9uZW50XVxufSlcbmV4cG9ydCBjbGFzcyBDb29raWVMYXdNb2R1bGUge1xuICBjb25zdHJ1Y3RvcihAT3B0aW9uYWwoKSBAU2tpcFNlbGYoKSBwYXJlbnRNb2R1bGU6IENvb2tpZUxhd01vZHVsZSkge1xuICAgIGlmIChwYXJlbnRNb2R1bGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0Nvb2tpZUxhd01vZHVsZSBpcyBhbHJlYWR5IGxvYWRlZC4gSW1wb3J0IGl0IGluIHRoZSBBcHBNb2R1bGUgb25seSdcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQWVFLGtDQUM0QixLQUNHO1FBREgsUUFBRyxHQUFILEdBQUc7UUFDQSxhQUFRLEdBQVIsUUFBUTtLQUNuQzs7Ozs7SUFFRyx1Q0FBSTs7OztjQUFDLFVBQW9DO1FBQXBDLDJCQUFBLEVBQUEsNEJBQW9DO1FBQzlDLHFCQUFJLE9BQU8sR0FBa0IsRUFBRSxDQUFDO1FBRWhDLElBQUksaUJBQWlCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ3BDLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDdEM7UUFFRCxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDOzs7Ozs7O0lBRzFDLDhDQUFXOzs7OztjQUFDLFVBQWtCLEVBQUUsVUFBbUI7UUFD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